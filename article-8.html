<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article 8 - Why "No Incident" Is Not Evidence of Safety | Bagus Dwi Permana</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        .article-hero {
            background: linear-gradient(135deg, #0b1220 0%, #1e3a5f 100%);
            padding: 8rem 2rem 4rem;
            color: #fff;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .article-hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('assets/article-8-cover.png') center/cover no-repeat;
            opacity: 0.2;
            z-index: 0;
        }
        .article-hero > * { position: relative; z-index: 1; }
        .article-hero .container { max-width: 900px; }
        .article-category {
            display: inline-block;
            background: rgba(168, 85, 247, 0.2);
            color: #d8b4fe;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .article-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            color: #fff;
        }
        .article-subtitle {
            font-size: clamp(1.125rem, 2vw, 1.375rem);
            color: #94a3b8;
            max-width: 700px;
            margin: 0 auto 2rem;
            line-height: 1.7;
        }
        .article-meta {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            color: #94a3b8;
            font-size: 0.9375rem;
        }
        .article-meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .article-content {
            padding: 4rem 2rem;
            background: #fff;
        }
        .article-content .container { max-width: 800px; }
        .article-body {
            font-size: 1.125rem;
            line-height: 1.9;
            color: #374151;
        }
        .article-body p { margin-bottom: 1.75rem; }
        .article-body h2 {
            font-size: 1.75rem;
            color: #1e3a5f;
            margin: 3rem 0 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid #e5e7eb;
        }
        .article-body h3 {
            font-size: 1.375rem;
            color: #2d5a87;
            margin: 2rem 0 1rem;
        }
        .article-body blockquote {
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            border-left: 4px solid #a855f7;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-radius: 0 12px 12px 0;
            font-style: italic;
            color: #7e22ce;
        }
        .article-body ul, .article-body ol {
            margin: 1.5rem 0;
            padding-left: 1.5rem;
        }
        .article-body li { margin-bottom: 0.75rem; }
        .highlight-box {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-left: 4px solid #ef4444;
        }
        .highlight-box p {
            margin: 0;
            color: #991b1b;
            font-weight: 500;
        }
        .warning-box {
            background: linear-gradient(135deg, #fefce8 0%, #fef9c3 100%);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-left: 4px solid #eab308;
        }
        .warning-box p {
            margin: 0;
            color: #854d0e;
            font-weight: 500;
        }
        .result-box {
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-left: 4px solid #10b981;
        }
        .result-box h4 {
            color: #065f46;
            margin-bottom: 0.75rem;
        }
        .result-box ul {
            margin: 0.5rem 0;
            color: #047857;
        }
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #94a3b8;
            margin-bottom: 2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        .back-link:hover { color: #fff; }
        .article-nav {
            display: flex;
            justify-content: space-between;
            padding: 2rem 0;
            border-top: 1px solid #e5e7eb;
            margin-top: 3rem;
        }
        .article-nav a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #2d5a87;
            font-weight: 600;
            transition: color 0.3s ease;
        }
        .article-nav a:hover { color: #1e3a5f; }
        .references {
            background: #f8fafc;
            padding: 1.5rem 2rem;
            border-radius: 12px;
            margin-top: 2rem;
        }
        .references h3 {
            font-size: 1rem;
            margin-bottom: 1rem;
        }
        .references ul {
            font-size: 0.9rem;
            color: #64748b;
        }

        /* Interactive Chart */
        .chart-container {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
        }
        .chart-title {
            text-align: center;
            color: #fff;
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .chart-subtitle {
            text-align: center;
            color: #94a3b8;
            font-size: 0.875rem;
            margin-bottom: 1.5rem;
        }
        .chart-wrapper {
            background: rgba(2, 6, 23, 0.5);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .chart-canvas {
            width: 100%;
            height: auto;
            display: block;
        }
        .control-row {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 1rem;
        }
        .control-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }
        .control-slider {
            width: 200px;
            height: 8px;
            border-radius: 4px;
            background: rgba(148, 163, 184, 0.2);
            outline: none;
            -webkit-appearance: none;
        }
        .control-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #a855f7;
            cursor: pointer;
        }
        .control-value {
            background: rgba(168, 85, 247, 0.2);
            color: #d8b4fe;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-weight: 700;
            font-size: 0.9rem;
            min-width: 50px;
            text-align: center;
        }
        .legend-row {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #94a3b8;
            font-size: 0.8rem;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .callout-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        .callout-card {
            background: rgba(30, 58, 95, 0.3);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            border: 1px solid rgba(168, 85, 247, 0.15);
        }
        .callout-label {
            color: #94a3b8;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .callout-value {
            font-size: 1.5rem;
            font-weight: 800;
            color: #a855f7;
        }

        @media (max-width: 768px) {
            .article-hero { padding: 6rem 1rem 3rem; }
            .article-meta { flex-direction: column; gap: 1rem; }
            .article-content { padding: 3rem 1rem; }
            .article-body { font-size: 1rem; }
            .chart-container { padding: 1rem; }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="assets/profile-photo.jpg" alt="Bagus Dwi Permana" class="nav-avatar">
            </a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="index.html#metrics" class="nav-link">Results</a></li>
                <li><a href="index.html#case-studies" class="nav-link">Case Studies</a></li>
                <li><a href="articles.html" class="nav-link">Articles</a></li>
                <li><a href="index.html#contact" class="nav-link">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <section class="article-hero">
        <div class="container">
            <a href="articles.html" class="back-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Back to Articles
            </a>
            <span class="article-category">Safety Science</span>
            <h1 class="article-title">Why "No Incident" Is Not Evidence of Safety</h1>
            <p class="article-subtitle">Lagging indicators, weak signals, and the illusion of stability in critical data center operations.</p>
            <div class="article-meta">
                <span class="article-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                    9 min read
                </span>
                <span class="article-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    November 5, 2025
                </span>
                <span class="article-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    Bagus Dwi Permana
                </span>
            </div>
        </div>
    </section>

    <article class="article-content">
        <div class="container">
            <div class="article-body">
                <h2>Abstract</h2>
                <p>In many data centers, safety and reliability are inferred from the absence of incidents. Periods without outages are treated as proof that systems, processes, and behaviors are sound. This article challenges that assumption.</p>

                <blockquote>
                    "For months, nothing happens. No outages. No customer impact. No headlines. Then one day, everything fails at once. The failure did not appear suddenly. It accumulated quietly while the dashboard stayed green."
                </blockquote>

                <h2>1. The Dangerous Comfort of Zero Incidents</h2>
                <p>In critical infrastructure, "no incident" is often celebrated as success. Dashboards glow green, KPIs are met, and confidence increases. Yet safety science has repeatedly shown that long accident-free periods often precede major failures.</p>

                <div class="highlight-box">
                    <p><strong>The Paradox:</strong> Stability breeds normalization. Success can mask accumulating risk.</p>
                </div>

                <h2>2. Lagging Indicators: What They Measure—and Miss</h2>
                <p>Lagging indicators measure outcomes after failure: outages, SLA breaches, safety events. They are useful for accountability, but they are blind to system condition.</p>

                <div class="warning-box">
                    <p><strong>Critical Insight:</strong> By the time a lagging indicator moves, control is already lost.</p>
                </div>

                <h2>3. The Myth of Predictive Absence</h2>
                <p>The absence of incidents does not predict future safety. It only confirms that boundaries have not yet been crossed. Complex systems can operate for long periods while gradually eroding their safety margins.</p>

                <h2>4. Weak Signals and Early Warnings</h2>
                <p>Weak signals are subtle deviations that do not cause immediate failure:</p>
                <ul>
                    <li>Recurring nuisance alarms</li>
                    <li>Informal workarounds</li>
                    <li>Small procedural skips</li>
                    <li>Increasing reliance on specific individuals</li>
                </ul>
                <p>Individually, they are easy to ignore. Collectively, they are early warnings.</p>

                <h2>5. Interactive: Weak Signals vs Perceived Safety</h2>
                <p>This simulation shows how weak signals can accumulate while perceived safety remains high, creating a dangerous gap:</p>

                <!-- Interactive Chart -->
                <div class="chart-container">
                    <div class="chart-title">Weak Signal Accumulation vs Perceived Safety</div>
                    <div class="chart-subtitle">The gap between perception and reality grows over time</div>

                    <div class="chart-wrapper">
                        <canvas id="signalChart" class="chart-canvas" width="800" height="380"></canvas>
                    </div>

                    <div class="control-row">
                        <span class="control-label">Signal Accumulation Rate:</span>
                        <input type="range" id="signalSlider" class="control-slider" min="0" max="100" value="40">
                        <span class="control-value" id="signalValue">40%</span>
                    </div>

                    <div class="legend-row">
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #22c55e;"></span>
                            Perceived Safety
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #f59e0b;"></span>
                            Accumulated Weak Signals
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot" style="background: #ef4444;"></span>
                            Danger Zone
                        </div>
                    </div>

                    <div class="callout-row">
                        <div class="callout-card">
                            <div class="callout-label">Perception Gap</div>
                            <div class="callout-value" id="percGap">47%</div>
                        </div>
                        <div class="callout-card">
                            <div class="callout-label">Signal Level</div>
                            <div class="callout-value" id="sigLevel" style="color: #f59e0b;">Moderate</div>
                        </div>
                        <div class="callout-card">
                            <div class="callout-label">Risk Status</div>
                            <div class="callout-value" id="riskStatus">Hidden</div>
                        </div>
                    </div>
                </div>

                <h2>6. Drift Toward Failure</h2>
                <p>James Reason and Erik Hollnagel describe drift as a gradual movement toward unsafe states driven by efficiency, success, and adaptation. Because drift is slow and often rewarded, it remains invisible until a triggering event occurs.</p>

                <h2>7. Human Factors: Success Masking Fragility</h2>
                <p>When systems succeed despite degraded conditions, operators adapt to compensate. Success reinforces the adaptation, masking underlying fragility. Ironically, high-performing teams may drift faster, because their skill absorbs design weakness.</p>

                <h2>8. Leading Indicators That Actually Matter</h2>
                <div class="result-box">
                    <h4>Effective leading indicators focus on system health, not outcomes:</h4>
                    <ul>
                        <li><strong>MTTR variance</strong> — not just averages</li>
                        <li><strong>Escalation latency</strong> — time to first decision</li>
                        <li><strong>Deviation backlog size</strong> — accumulated technical debt</li>
                        <li><strong>Alarm rationalization debt</strong> — unaddressed alarm issues</li>
                        <li><strong>Technical debt aging</strong> — how long deviations persist</li>
                        <li><strong>RCA recurrence suppression</strong> — learning effectiveness</li>
                    </ul>
                    <p>These indicators reveal trajectory, not just history.</p>
                </div>

                <h2>9. Case Pattern: Green Dashboards Before Failure</h2>
                <p>Across multiple major incidents, post-event analysis reveals the same story:</p>
                <ul>
                    <li>Dashboards were green</li>
                    <li>Audits were passed</li>
                    <li>Confidence was high</li>
                </ul>
                <p>Weak signals were present, but unmeasured, unowned, or normalized.</p>

                <h2>10. Designing a Weak-Signal Detection System</h2>
                <p>Resilient organizations deliberately surface weak signals:</p>
                <ul>
                    <li><strong>Safe reporting channels</strong> — encourage disclosure</li>
                    <li><strong>Structured near-miss capture</strong> — formal documentation</li>
                    <li><strong>Trend analysis over time</strong> — pattern recognition</li>
                    <li><strong>Explicit ownership of anomalies</strong> — accountability</li>
                </ul>
                <p>The goal is not alarmism, but sensitivity to change.</p>

                <h2>11. Conclusion</h2>
                <blockquote>
                    "'No incident' is a lagging comfort. Safety lives in signals that precede failure, not in the absence of visible harm. Organizations that learn to see weak signals trade false confidence for true resilience."
                </blockquote>

                <div class="references">
                    <h3>References</h3>
                    <ul>
                        <li>Reason, J. (1997). Managing the Risks of Organizational Accidents.</li>
                        <li>Hollnagel, E. (2014). Safety-I and Safety-II.</li>
                        <li>Dekker, S. (2011). Drift into Failure.</li>
                        <li>Weick, K. E., & Sutcliffe, K. M. (2015). Managing the Unexpected.</li>
                        <li>Leveson, N. (2011). Engineering a Safer World.</li>
                    </ul>
                </div>

                <div class="article-nav">
                    <a href="article-7.html">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                        Previous Article
                    </a>
                    <a href="articles.html">
                        All Articles
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </article>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 Bagus Dwi Permana. All rights reserved.</p>
                <p class="footer-tagline">Transforming Critical Infrastructure Through Systematic Excellence</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
    (function() {
        const canvas = document.getElementById('signalChart');
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        const signalSlider = document.getElementById('signalSlider');
        const signalValue = document.getElementById('signalValue');
        const percGap = document.getElementById('percGap');
        const sigLevel = document.getElementById('sigLevel');
        const riskStatus = document.getElementById('riskStatus');

        const dpr = window.devicePixelRatio || 1;
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * dpr;
        canvas.height = rect.height * dpr;
        ctx.scale(dpr, dpr);
        canvas.style.width = rect.width + 'px';
        canvas.style.height = rect.height + 'px';

        const W = rect.width;
        const H = rect.height;
        const padding = { top: 50, right: 60, bottom: 60, left: 80 };
        const chartW = W - padding.left - padding.right;
        const chartH = H - padding.top - padding.bottom;

        function simulate(rate) {
            let perceived = [], weak = [];
            let perceivedVal = 90;
            let weakVal = 10;

            for (let i = 0; i < 12; i++) {
                perceived.push(perceivedVal);
                weakVal += rate / 15;
                weak.push(weakVal);
            }
            return { perceived, weak };
        }

        function drawChart(rate) {
            ctx.clearRect(0, 0, W, H);

            // Background
            ctx.fillStyle = 'rgba(2, 6, 23, 0.5)';
            ctx.fillRect(0, 0, W, H);

            // Grid
            ctx.strokeStyle = 'rgba(148, 163, 184, 0.15)';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 5; i++) {
                const y = padding.top + (chartH / 5) * i;
                ctx.beginPath();
                ctx.moveTo(padding.left, y);
                ctx.lineTo(W - padding.right, y);
                ctx.stroke();
            }

            // Danger zone
            const dangerY = padding.top + chartH - (70 / 100) * chartH;
            ctx.fillStyle = 'rgba(239, 68, 68, 0.1)';
            ctx.fillRect(padding.left, padding.top, chartW, dangerY - padding.top);
            ctx.strokeStyle = 'rgba(239, 68, 68, 0.5)';
            ctx.setLineDash([6, 6]);
            ctx.beginPath();
            ctx.moveTo(padding.left, dangerY);
            ctx.lineTo(W - padding.right, dangerY);
            ctx.stroke();
            ctx.setLineDash([]);
            ctx.fillStyle = '#ef4444';
            ctx.font = '11px Inter, system-ui, sans-serif';
            ctx.textAlign = 'left';
            ctx.fillText('Danger Zone', padding.left + 10, dangerY + 15);

            // Y-axis labels
            ctx.fillStyle = 'rgba(148, 163, 184, 0.9)';
            ctx.font = '12px Inter, system-ui, sans-serif';
            ctx.textAlign = 'right';
            for (let i = 0; i <= 5; i++) {
                const y = padding.top + (chartH / 5) * i;
                const val = 100 - i * 20;
                ctx.fillText(val, padding.left - 10, y + 4);
            }

            // Y-axis title
            ctx.save();
            ctx.translate(25, H / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.textAlign = 'center';
            ctx.fillStyle = 'rgba(148, 163, 184, 0.7)';
            ctx.fillText('Level', 0, 0);
            ctx.restore();

            // X-axis labels
            ctx.textAlign = 'center';
            ctx.fillStyle = 'rgba(148, 163, 184, 0.9)';
            for (let i = 0; i < 12; i++) {
                const x = padding.left + (chartW / 11) * i;
                ctx.fillText('M' + (i + 1), x, H - padding.bottom + 25);
            }

            // X-axis title
            ctx.fillStyle = 'rgba(148, 163, 184, 0.7)';
            ctx.fillText('Time (Months)', W / 2, H - 15);

            // Get data
            const { perceived, weak } = simulate(rate);

            // Draw perceived safety line (green)
            ctx.strokeStyle = '#22c55e';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.beginPath();
            for (let i = 0; i < perceived.length; i++) {
                const x = padding.left + (chartW / 11) * i;
                const y = padding.top + chartH - (perceived[i] / 100) * chartH;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Draw weak signals line (amber)
            ctx.strokeStyle = '#f59e0b';
            ctx.beginPath();
            for (let i = 0; i < weak.length; i++) {
                const x = padding.left + (chartW / 11) * i;
                const y = padding.top + chartH - (weak[i] / 100) * chartH;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Draw points
            ctx.fillStyle = '#22c55e';
            for (let i = 0; i < perceived.length; i++) {
                const x = padding.left + (chartW / 11) * i;
                const y = padding.top + chartH - (perceived[i] / 100) * chartH;
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fill();
            }

            ctx.fillStyle = '#f59e0b';
            for (let i = 0; i < weak.length; i++) {
                const x = padding.left + (chartW / 11) * i;
                const y = padding.top + chartH - (weak[i] / 100) * chartH;
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fill();
            }

            // End labels
            const lastPerc = perceived[perceived.length - 1];
            const lastWeak = weak[weak.length - 1];
            const lastX = padding.left + chartW;

            ctx.font = 'bold 11px Inter, system-ui, sans-serif';
            ctx.textAlign = 'left';
            ctx.fillStyle = '#22c55e';
            ctx.fillText(Math.round(lastPerc) + '%', lastX + 8, padding.top + chartH - (lastPerc / 100) * chartH + 4);
            ctx.fillStyle = '#f59e0b';
            ctx.fillText(Math.round(lastWeak) + '%', lastX + 8, padding.top + chartH - (lastWeak / 100) * chartH + 4);

            // Update callouts
            const gap = lastPerc - lastWeak;
            percGap.textContent = Math.round(gap) + '%';

            if (lastWeak >= 70) {
                sigLevel.textContent = 'Critical';
                sigLevel.style.color = '#ef4444';
                riskStatus.textContent = 'Imminent';
                riskStatus.style.color = '#ef4444';
            } else if (lastWeak >= 50) {
                sigLevel.textContent = 'High';
                sigLevel.style.color = '#f59e0b';
                riskStatus.textContent = 'Growing';
                riskStatus.style.color = '#f59e0b';
            } else {
                sigLevel.textContent = 'Moderate';
                sigLevel.style.color = '#a855f7';
                riskStatus.textContent = 'Hidden';
                riskStatus.style.color = '#a855f7';
            }
        }

        function refresh() {
            const rate = parseInt(signalSlider.value);
            signalValue.textContent = rate + '%';
            drawChart(rate);
        }

        signalSlider.addEventListener('input', refresh);
        refresh();

        window.addEventListener('resize', function() {
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
            refresh();
        });
    })();
    </script>
</body>
</html>
