<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GED7FX8RTV"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-GED7FX8RTV');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- SEO Meta Tags -->
    <title>AI Data Centers vs Citizen Bills | Southeast Asia | ResistanceZero</title>
    <meta name="description" content="One AI data center equals 100,000 households in power demand. Interactive impact calculator for Southeast Asian electricity bill analysis.">
    <meta name="keywords" content="AI Data Center, Electricity Consumption, Southeast Asia, Indonesia PLN, Malaysia TNB, Singapore, Electricity Subsidy, Power Grid, NVIDIA GPU, Citizen Bills, Energy Crisis">
    <meta name="author" content="Bagus Dwi Permana">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#dc2626">
    <link rel="canonical" href="https://resistancezero.com/article-11.html">

    <link rel="alternate" hreflang="en" href="https://resistancezero.com/article-11.html">

    <!-- Resource Hints -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://resistancezero.com/article-11.html">
    <meta property="og:title" content="AI Data Centers vs Citizen Electricity Bills: Who Really Pays?">
    <meta property="og:description" content="Why are citizens asked to save electricity while AI data centers consume megawatts? Comprehensive SEA analysis with interactive calculator.">
    <meta property="og:image" content="https://resistancezero.com/assets/article-11-cover.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="AI Data Centers vs Citizen Electricity Bills: Who Really Pays? - Southeast Asia Analysis">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Bagus Dwi Permana Portfolio">
    <meta property="article:author" content="Bagus Dwi Permana">
    <meta property="article:published_time" content="2026-02-09T00:00:00Z">
    <meta property="article:modified_time" content="2026-02-17T00:00:00Z">
    <meta property="article:section" content="Energy & Policy">
    <meta property="article:tag" content="AI Data Centers">
    <meta property="article:tag" content="Electricity">
    <meta property="article:tag" content="Southeast Asia">
    <meta property="article:tag" content="Infrastructure">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@BagusDPermana">
    <meta name="twitter:creator" content="@BagusDPermana">
    <meta name="twitter:title" content="AI Data Centers vs Citizen Electricity Bills: Who Really Pays?">
    <meta name="twitter:description" content="Citizens save electricity, AI consumes megawatts. SEA analysis with calculator.">
    <meta name="twitter:image" content="https://resistancezero.com/assets/article-11-cover.jpg">
    <meta name="twitter:image:alt" content="Data Center Energy Crisis and Grid Impact Analysis">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/Favicon.png">
    <link rel="apple-touch-icon" href="assets/Favicon.png">
    <link rel="stylesheet" href="styles.min.css">
    <link rel="preload" as="image" href="assets/article-11-cover.jpg">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TechnicalArticle",
        "headline": "AI Data Centers vs Citizen Electricity Bills: Who Really Pays in Southeast Asia?",
        "description": "Analysis of AI data center electricity consumption and its impact on citizen electricity bills across Southeast Asia",
        "author": {
            "@type": "Person",
            "name": "Bagus Dwi Permana"
        },
        "datePublished": "2026-02-08",
        "publisher": {
            "@type": "Person",
            "name": "Bagus Dwi Permana"
        }
    }
    </script>

    <!-- Structured Data - BreadcrumbList -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://resistancezero.com/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Engineering Journal",
                "item": "https://resistancezero.com/articles.html"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "AI Data Centers vs Citizen Electricity Bills"
            }
        ]
    }
    </script>

    <!-- Structured Data - FAQPage -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "How much electricity does an AI data center use?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A single 100MW AI data center consumes approximately 876 GWh annually — equivalent to the electricity demand of 100,000 average Southeast Asian households."
                }
            },
            {
                "@type": "Question",
                "name": "Do data centers raise household electricity bills?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Large-scale data center deployment can increase electricity demand by 5-15% in host regions. Whether this raises household bills depends on grid capacity, energy policy, subsidy structures, and how infrastructure investment costs are distributed."
                }
            },
            {
                "@type": "Question",
                "name": "How do you calculate data center impact on regional electricity?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "By comparing facility power demand against regional grid capacity, modeling demand growth scenarios, and analyzing electricity pricing mechanisms to determine cost pass-through to existing consumers."
                }
            }
        ]
    }
    </script>

    <style>
        :root {
            --electric-red: #dc2626;
            --electric-orange: #f59e0b;
            --electric-yellow: #eab308;
            --electric-green: #22c55e;
            --electric-blue: #3b82f6;
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
        }

        .article-hero {
            background: linear-gradient(135deg, #0f0f0f 0%, #1a0a0a 50%, #2d1010 100%);
            padding: 7rem 2rem 3.5rem;
            color: #fff;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .article-hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(circle at 20% 80%, rgba(220, 38, 38, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(245, 158, 11, 0.2) 0%, transparent 50%);
            z-index: 0;
        }
        .article-hero::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 5 L35 25 L55 30 L35 35 L30 55 L25 35 L5 30 L25 25 Z' fill='%23dc2626' fill-opacity='0.05'/%3E%3C/svg%3E");
            opacity: 0.5;
            z-index: 0;
        }
        .article-hero > * { position: relative; z-index: 1; }
        .article-hero .container { max-width: 1000px; }
        .article-category {
            display: inline-block;
            background: rgba(220, 38, 38, 0.2);
            color: #fca5a5;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 1px solid rgba(220, 38, 38, 0.3);
        }
        .article-title {
            font-size: clamp(1.6rem, 3.2vw, 2.35rem);
            font-weight: 800;
            margin-bottom: 1.25rem;
            line-height: 1.25;
            color: #fff;
            letter-spacing: -0.01em;
        }
        .article-title .highlight {
            background: linear-gradient(90deg, #dc2626, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .article-subtitle {
            font-size: clamp(0.95rem, 1.6vw, 1.15rem);
            color: #94a3b8;
            max-width: 800px;
            margin: 0 auto 2rem;
            line-height: 1.7;
        }
        .article-meta {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            color: #94a3b8;
            font-size: 0.9375rem;
        }
        .article-meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #94a3b8;
            margin-bottom: 2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        .back-link:hover { color: #fff; }

        /* Article Content */
        .article-content {
            padding: 4rem 2rem;
            background: #fff;
        }
        .article-content .container { max-width: 900px; }
        .article-body {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #374151;
        }
        .article-body p { margin-bottom: 1rem; }
        .article-body h2 {
            font-size: 1.4rem;
            color: #dc2626;
            margin: var(--spacing-xl) 0 var(--spacing-md);
            padding-bottom: var(--spacing-sm);
            border-bottom: 3px solid #fecaca;
        }
        .article-body h3 {
            font-size: 1.1rem;
            color: #991b1b;
            margin: var(--spacing-lg) 0 var(--spacing-sm);
        }
        .article-body h4 {
            font-size: 0.9rem;
            color: #b91c1c;
            margin: var(--spacing-md) 0 var(--spacing-sm);
        }
        .article-body blockquote {
            background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);
            border-left: 4px solid #dc2626;
            padding: var(--spacing-lg) var(--spacing-xl);
            margin: var(--spacing-lg) 0;
            border-radius: 0 12px 12px 0;
            font-style: italic;
            color: #991b1b;
            font-size: 1rem;
        }
        .article-body ul, .article-body ol {
            margin: 1.5rem 0;
            padding-left: 1.5rem;
        }
        .article-body li { margin-bottom: 0.75rem; }

        /* Controversy Box */
        .controversy-box {
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            border-radius: 16px;
            padding: 2rem;
            margin: 2.5rem 0;
            border: 2px solid #dc2626;
            position: relative;
            overflow: hidden;
        }
        .controversy-box::before {
            content: '';
            position: absolute;
            top: 0; right: 0;
            width: 150px; height: 150px;
            background: radial-gradient(circle, rgba(220, 38, 38, 0.3) 0%, transparent 70%);
        }
        .controversy-box h4 {
            color: #fca5a5;
            font-size: 0.95rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .controversy-box p {
            color: #e5e7eb;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        .controversy-box .stat-highlight {
            color: #f87171;
            font-weight: 700;
            font-size: 1.25rem;
        }

        /* Data Comparison */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        .comparison-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid #e2e8f0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .comparison-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.1);
        }
        .comparison-card.dc {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border-color: #fecaca;
        }
        .comparison-card.household {
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
            border-color: #a7f3d0;
        }
        .comparison-card h5 {
            font-size: 0.875rem;
            color: #64748b;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .comparison-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: #1e293b;
        }
        .comparison-card.dc .value { color: #dc2626; }
        .comparison-card.household .value { color: #059669; }
        .comparison-card .unit {
            font-size: 0.875rem;
            color: #64748b;
        }

        /* Country Tariff Table */
        .tariff-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            font-size: 0.95rem;
        }
        .tariff-table th, .tariff-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        .tariff-table th {
            background: #1e293b;
            color: #fff;
            font-weight: 600;
        }
        .tariff-table tr:hover {
            background: #f8fafc;
        }
        .tariff-table .country-flag {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }
        .tariff-change {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .tariff-change.up {
            background: #fef2f2;
            color: #dc2626;
        }
        .tariff-change.down {
            background: #ecfdf5;
            color: #059669;
        }

        /* Interactive Calculator */
        .impact-calculator {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            border-radius: 20px;
            padding: 2.5rem;
            margin: 3rem 0;
            color: #fff;
        }
        .calc-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .calc-subtitle {
            color: #94a3b8;
            margin-bottom: 2rem;
        }
        .calc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .calc-input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .calc-input-group label {
            font-size: 0.875rem;
            color: #94a3b8;
            font-weight: 500;
        }
        .calc-input-group select,
        .calc-input-group input {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        .calc-input-group select:focus,
        .calc-input-group input:focus {
            outline: none;
            border-color: #dc2626;
            background: rgba(220, 38, 38, 0.1);
        }
        .calc-input-group select option {
            background: #1e293b;
            color: #fff;
        }
        .calc-button-wrapper {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .calc-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, #dc2626 0%, #f59e0b 100%);
            color: #fff;
            border: none;
            border-radius: 10px;
            padding: 0.875rem 1.75rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);
        }
        .calc-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
        }
        .calc-button:active {
            transform: translateY(0);
        }
        .calc-hint {
            font-size: 0.8rem;
            color: #64748b;
            font-style: italic;
        }
        .calc-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 1.5rem;
        }
        .calc-result-item {
            text-align: center;
            padding: 1rem;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }
        .calc-result-item .label {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .calc-result-item .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #f87171;
        }
        .calc-result-item .value.green { color: #4ade80; }
        .calc-result-item .value.yellow { color: #fbbf24; }
        .calc-result-item .subtext {
            font-size: 0.7rem;
            color: #64748b;
            margin-top: 0.25rem;
        }

        /* Forecast Section */
        .forecast-viz {
            background: linear-gradient(135deg, #fef2f2 0%, #fff 100%);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid #fecaca;
        }
        .forecast-bar {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
        }
        .forecast-bar .year {
            width: 60px;
            font-weight: 600;
            color: #64748b;
        }
        .forecast-bar .bar-container {
            flex: 1;
            height: 32px;
            background: #f1f5f9;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
        }
        .forecast-bar .bar {
            height: 100%;
            background: linear-gradient(90deg, #dc2626, #f59e0b);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            transition: width 0.5s ease;
        }
        .forecast-bar .bar span {
            color: #fff;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .forecast-bar .value {
            width: 80px;
            text-align: right;
            font-weight: 700;
            color: #dc2626;
        }

        /* Warning Box */
        .warning-box {
            background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-left: 4px solid #dc2626;
        }
        .warning-box p {
            margin: 0;
            color: #991b1b;
        }

        /* Highlight Box */
        .highlight-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-left: 4px solid #f59e0b;
        }
        .highlight-box p {
            margin: 0;
            color: #92400e;
        }

        /* Data Table */
        .data-table-container {
            overflow-x: auto;
            margin: 2rem 0;
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .data-table th, .data-table td {
            padding: 0.875rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        .data-table th {
            background: #1e293b;
            color: #fff;
            font-weight: 600;
            white-space: nowrap;
        }
        .data-table tr:hover {
            background: #f8fafc;
        }
        .table-source {
            font-size: 0.8rem;
            color: #64748b;
            margin-top: 0.5rem;
        }

        /* References */
        .references {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            padding: 2rem;
            border-radius: 12px;
            margin-top: 3rem;
            border-left: 4px solid #dc2626;
        }
        .references h3 {
            font-size: 1.1rem;
            margin-bottom: 1.25rem;
            color: #991b1b;
        }
        .references ol {
            font-size: 0.875rem;
            color: #475569;
            padding-left: 1.5rem;
            line-height: 1.5;
        }
        .references ol li {
            margin-bottom: 0.5rem;
        }
        .references a {
            color: #dc2626;
            text-decoration: none;
        }
        .references a:hover {
            text-decoration: underline;
        }
        .ref-source {
            color: #64748b;
            font-size: 0.8rem;
            display: block;
            margin-top: 0.15rem;
        }

        /* Article Nav */
        .article-nav {
            display: flex;
            justify-content: space-between;
            padding: 2rem 0;
            border-top: 1px solid #e2e8f0;
            margin-top: 3rem;
        }
        .article-nav a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #1e3a5f;
            font-weight: 600;
            transition: color 0.3s ease;
            text-decoration: none;
        }
        [data-theme="dark"] .article-nav a { color: #93c5fd; }
        .article-nav a:hover { color: #60a5fa; }

        /* Dark Mode */
        [data-theme="dark"] .article-content { background: #0f172a; }
        [data-theme="dark"] .article-body { background: #0f172a; color: #e2e8f0; }
        [data-theme="dark"] .article-body h2 { color: #93c5fd; }
        [data-theme="dark"] .article-body h3 { color: #cbd5e1; }
        [data-theme="dark"] .article-body p { color: #cbd5e1; }
        [data-theme="dark"] .article-body blockquote { background: rgba(30,58,95,0.3); border-color: rgba(96,165,250,0.4); color: #cbd5e1; }
        [data-theme="dark"] .article-body .info-box,
        [data-theme="dark"] .article-body .key-insight { background: rgba(15,23,42,0.8); border-color: rgba(255,255,255,0.1); color: #cbd5e1; }
        [data-theme="dark"] .highlight-box { background: rgba(245,158,11,0.1); border-color: rgba(245,158,11,0.4); }
        [data-theme="dark"] .highlight-box p { color: #fbbf24; }
        [data-theme="dark"] .warning-box { background: rgba(239,68,68,0.1); border-color: rgba(239,68,68,0.4); }
        [data-theme="dark"] .warning-box p { color: #fca5a5; }
        [data-theme="dark"] .result-box { background: rgba(16,185,129,0.1); border-color: rgba(16,185,129,0.4); }
        [data-theme="dark"] .result-box h4 { color: #34d399; }
        [data-theme="dark"] .result-box p { color: #6ee7b7; }
        [data-theme="dark"] .references { background: rgba(15,23,42,0.8); border-color: rgba(6,182,212,0.4); }
        [data-theme="dark"] .references h3 { color: #93c5fd; }
        [data-theme="dark"] .references ol { color: #94a3b8; }
        [data-theme="dark"] .article-body table th { background: #0f172a; color: #e2e8f0; }
        [data-theme="dark"] .article-body table td { color: #cbd5e1; border-color: rgba(255,255,255,0.1); }
        [data-theme="dark"] .article-body ul li,
        [data-theme="dark"] .article-body ol li { color: #cbd5e1; }
        [data-theme="dark"] .article-body a { color: #60a5fa; }
        [data-theme="dark"] .article-body strong { color: #f1f5f9; }

        /* Responsive */
        @media (max-width: 768px) {
            .article-hero { padding: 6rem 1rem 3rem; }
            .article-content { padding: 3rem 1rem; }
            .article-body { font-size: 1rem; }
            .impact-calculator { padding: 1.5rem; }
            .calc-grid { grid-template-columns: 1fr; }
            .comparison-grid { grid-template-columns: 1fr; }
        }

        @media print {
            .navbar, .impact-calculator, .article-nav { display: none !important; }
        }

        /* ============================================================
           Energy Equity PRO ENHANCEMENT MODE (.eeq-)
           Amber/Orange Theme: #f59e0b primary, #d97706 dark
           ============================================================ */

        /* Toolbar */
        .eeq-toolbar-row {
            display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;
            gap: 0.75rem; margin: 1.5rem 0;
        }
        .eeq-mode-bar {
            display: flex; align-items: center; gap: 0.5rem;
        }
        .eeq-mode-bar .eeq-mode-toggle {
            display: flex; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.15);
        }
        .eeq-mode-bar .eeq-mode-btn {
            padding: 8px 18px; font-size: 0.8rem; font-weight: 600; cursor: pointer; border: none;
            background: transparent; color: #94a3b8; transition: all 0.3s; font-family: inherit;
        }
        .eeq-mode-bar .eeq-mode-btn.active { background: linear-gradient(135deg, #d97706, #b45309); color: #fff; box-shadow: 0 4px 15px rgba(217,119,6,0.4), 0 0 20px rgba(217,119,6,0.2); border-color: #d97706; font-weight: 700; }
        .eeq-toolbar-actions { display: flex; gap: 0.5rem; align-items: center; }
        .eeq-toolbar-actions button {
            padding: 8px 16px; border-radius: 8px; border: none; font-size: 0.78rem;
            font-weight: 600; cursor: pointer; font-family: inherit; display: flex; align-items: center; gap: 6px;
        }
        .eeq-btn-reset { background: rgba(255,255,255,0.1); color: #94a3b8; }
        .eeq-btn-reset:hover { background: rgba(255,255,255,0.15); }
        .eeq-btn-pdf { background: linear-gradient(135deg, rgba(217,119,6,0.2), rgba(245,158,11,0.1)); color: #fbbf24; border: 1px solid rgba(245,158,11,0.3) !important; }
        .eeq-btn-pdf:hover { background: linear-gradient(135deg, rgba(217,119,6,0.3), rgba(245,158,11,0.15)); }

        /* Pro Inputs */
        .eeq-pro-inputs { display: none; margin-top: 1.5rem; }
        .eeq-pro-inputs.visible { display: block; }
        .eeq-pro-inputs-title {
            font-size: 0.85rem; font-weight: 700; color: #fbbf24;
            margin-bottom: 1rem; display: flex; align-items: center; gap: 8px;
            border-bottom: 1px solid rgba(245,158,11,0.2); padding-bottom: 0.5rem;
        }
        .eeq-slider-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem;
        }
        .eeq-slider-card {
            background: rgba(245,158,11,0.06); border: 1px solid rgba(245,158,11,0.15);
            border-radius: 10px; padding: 1rem;
        }
        .eeq-slider-label {
            font-size: 0.78rem; font-weight: 600; color: #e2e8f0; margin-bottom: 0.5rem;
            display: flex; align-items: center; gap: 6px;
        }
        .eeq-slider-label .eeq-si-tag {
            font-size: 0.6rem; color: #fbbf24; background: rgba(245,158,11,0.15);
            padding: 1px 6px; border-radius: 3px; font-weight: 700;
        }
        .eeq-slider-card input[type="range"] {
            width: 100%; height: 6px; -webkit-appearance: none; appearance: none;
            background: rgba(255,255,255,0.15); border-radius: 3px; outline: none;
            margin: 0.5rem 0;
        }
        .eeq-slider-card input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; width: 16px; height: 16px; border-radius: 50%;
            background: #f59e0b; cursor: pointer; border: 2px solid #fff;
        }
        .eeq-slider-card input[type="range"]::-moz-range-thumb {
            width: 16px; height: 16px; border-radius: 50%;
            background: #f59e0b; cursor: pointer; border: 2px solid #fff;
        }
        .eeq-slider-minmax {
            display: flex; justify-content: space-between; font-size: 0.65rem; color: #64748b;
        }
        .eeq-slider-val {
            text-align: center; font-size: 1.1rem; font-weight: 800; color: #f59e0b; margin-top: 0.25rem;
        }

        /* Tooltips */
        .eeq-tooltip {
            display: inline-flex; align-items: center; justify-content: center;
            width: 16px; height: 16px; border-radius: 50%; background: rgba(245,158,11,0.25);
            color: #fbbf24; font-size: 0.6rem; font-weight: 700; cursor: help;
            position: relative; margin-left: 4px; flex-shrink: 0;
        }
        .eeq-tooltip-body {
            display: none; position: absolute; bottom: calc(100% + 10px); left: 50%; transform: translateX(-50%);
            background: #1e293b; border: 1px solid rgba(245,158,11,0.3); border-radius: 10px;
            padding: 0.85rem; width: 240px; z-index: 100; box-shadow: 0 8px 30px rgba(0,0,0,0.4);
            pointer-events: none;
        }
        .eeq-tooltip-body::after {
            content: ''; position: absolute; top: 100%; left: 50%; transform: translateX(-50%);
            border: 6px solid transparent; border-top-color: rgba(245,158,11,0.3);
        }
        .eeq-tooltip:hover .eeq-tooltip-body,
        .eeq-tooltip:focus .eeq-tooltip-body { display: block; }
        .eeq-tooltip-title { font-size: 0.78rem; font-weight: 700; color: #f59e0b; margin-bottom: 0.3rem; }
        .eeq-tooltip-desc { font-size: 0.7rem; color: #94a3b8; line-height: 1.5; margin-bottom: 0.3rem; }
        .eeq-tooltip-formula { font-size: 0.65rem; color: #fbbf24; font-family: 'JetBrains Mono', monospace; background: rgba(245,158,11,0.1); padding: 3px 7px; border-radius: 4px; }

        /* Pro Panels */
        .eeq-pro-panel {
            position: relative; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
            border-radius: 14px; padding: 1.5rem; margin-top: 1.5rem;
        }
        .eeq-pro-panel.gated { filter: blur(3px); pointer-events: none; user-select: none; }
        .eeq-pro-panel .eeq-panel-title {
            font-size: 0.95rem; font-weight: 700; color: #e2e8f0; margin-bottom: 0.75rem;
            display: flex; align-items: center; gap: 8px;
        }
        .eeq-pro-panel .eeq-panel-title .eeq-panel-icon { color: #f59e0b; font-size: 1.1rem; }
        .eeq-gate-overlay {
            position: absolute; inset: 0; background: rgba(15,23,42,0.85); border-radius: 14px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            gap: 0.5rem; z-index: 5; cursor: pointer;
        }
        .eeq-gate-overlay .eeq-lock-icon { font-size: 1.5rem; color: #f59e0b; }
        .eeq-gate-overlay span { font-size: 0.8rem; color: #94a3b8; font-weight: 600; }

        /* KPI Grid */
        .eeq-kpi-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.75rem;
        }
        .eeq-kpi-card {
            background: rgba(255,255,255,0.05); border-radius: 10px; padding: 1rem; text-align: center;
            border: 1px solid rgba(255,255,255,0.06);
        }
        .eeq-kpi-value { font-size: 1.4rem; font-weight: 800; color: #f59e0b; }
        .eeq-kpi-label { font-size: 0.72rem; color: #94a3b8; margin-top: 0.25rem; }
        .eeq-kpi-sublabel { font-size: 0.6rem; color: #475569; margin-top: 0.15rem; }

        /* Risk Matrix Table */
        .eeq-risk-table { width: 100%; border-collapse: collapse; margin-top: 0.75rem; font-size: 0.78rem; }
        .eeq-risk-table th {
            padding: 0.5rem 0.75rem; text-align: left; font-weight: 600; color: #94a3b8;
            border-bottom: 1px solid rgba(255,255,255,0.1); font-size: 0.7rem; text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .eeq-risk-table td {
            padding: 0.5rem 0.75rem; color: #e2e8f0; border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .eeq-risk-table tr.eeq-highlight { background: rgba(245,158,11,0.08); }
        .eeq-risk-badge {
            display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.68rem; font-weight: 700;
        }
        .eeq-risk-badge.high { background: rgba(239,68,68,0.15); color: #f87171; }
        .eeq-risk-badge.med { background: rgba(245,158,11,0.15); color: #fbbf24; }
        .eeq-risk-badge.low { background: rgba(16,185,129,0.15); color: #34d399; }

        /* Score bars */
        .eeq-score-bar-bg { width: 100%; height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; margin-top: 0.4rem; overflow: hidden; }
        .eeq-score-bar-fill { height: 100%; border-radius: 3px; transition: width 0.5s ease; }
        .eeq-score-bar-fill.high { background: linear-gradient(90deg, #dc2626, #ef4444); }
        .eeq-score-bar-fill.med { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
        .eeq-score-bar-fill.low { background: linear-gradient(90deg, #10b981, #34d399); }

        /* Score Ring */
        .eeq-score-ring-wrap { text-align: center; margin: 1rem 0; }
        .eeq-score-ring-label { font-size: 0.75rem; color: #94a3b8; margin-top: 0.5rem; }

        /* Chart Container */
        .eeq-chart-container { margin-top: 1rem; background: rgba(0,0,0,0.2); border-radius: 10px; padding: 1rem; }
        .eeq-chart-container canvas { width: 100% !important; max-height: 220px; }

        /* Tornado Chart */
        .eeq-tornado-wrap { margin-top: 1rem; }
        .eeq-tornado-bar-row {
            display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;
        }
        .eeq-tornado-label { width: 120px; font-size: 0.72rem; color: #94a3b8; text-align: right; flex-shrink: 0; }
        .eeq-tornado-bar-container { flex: 1; height: 20px; background: rgba(255,255,255,0.05); border-radius: 4px; overflow: hidden; position: relative; }
        .eeq-tornado-bar {
            height: 100%; border-radius: 4px; transition: width 0.5s ease;
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }
        .eeq-tornado-val { width: 60px; font-size: 0.72rem; color: #fbbf24; font-weight: 700; }

        /* Narrative */
        .eeq-narrative {
            background: rgba(245,158,11,0.08); border: 1px solid rgba(245,158,11,0.2);
            border-radius: 12px; padding: 1.25rem; margin-top: 1rem;
        }
        .eeq-narrative h4 { color: #f59e0b; font-size: 0.85rem; margin: 0 0 0.75rem; display: flex; align-items: center; gap: 6px; }
        .eeq-narrative p { color: #94a3b8; font-size: 0.78rem; line-height: 1.6; margin: 0 0 0.5rem; }
        .eeq-narrative p:last-child { margin-bottom: 0; }

        /* CTA Block */
        .eeq-cta-block {
            background: linear-gradient(135deg, rgba(245,158,11,0.12), rgba(217,119,6,0.06));
            border: 1px solid rgba(245,158,11,0.25); border-radius: 14px;
            padding: 1.5rem 2rem; margin-top: 1.5rem; text-align: center;
        }
        .eeq-cta-block h4 { color: #fbbf24; font-size: 1rem; margin: 0 0 0.5rem; }
        .eeq-cta-block p { color: #94a3b8; font-size: 0.82rem; margin: 0 0 1rem; }
        .eeq-cta-btn {
            display: inline-block; background: linear-gradient(135deg, #f59e0b, #d97706); color: #fff;
            padding: 0.65rem 2rem; border-radius: 10px; font-weight: 700; font-size: 0.85rem;
            text-decoration: none; transition: opacity 0.3s, transform 0.2s; border: none; cursor: pointer;
        }
        .eeq-cta-btn:hover { opacity: 0.9; transform: translateY(-1px); }

        /* Login Modal */
        .eeq-login-overlay {
            display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.75); backdrop-filter: blur(8px);
            z-index: 9999; align-items: center; justify-content: center;
        }
        .eeq-login-overlay.active { display: flex; }
        .eeq-login-box {
            background: #0f172a; border-radius: 16px; padding: 2.5rem; max-width: 380px; width: 90%;
            border: 1px solid rgba(245,158,11,0.3); box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            position: relative;
        }
        .eeq-login-box h3 { color: #e2e8f0; margin: 0 0 0.5rem; font-size: 1.1rem; }
        .eeq-login-box p { color: #64748b; font-size: 0.8rem; margin: 0 0 1.5rem; }
        .eeq-login-box input {
            width: 100%; padding: 0.75rem 1rem; background: #1e293b; border: 1px solid #334155;
            border-radius: 8px; color: #e2e8f0; font-size: 0.9rem; margin-bottom: 0.75rem; box-sizing: border-box;
        }
        .eeq-login-box input:focus { outline: none; border-color: #f59e0b; }
        .eeq-login-box button.eeq-login-submit {
            width: 100%; padding: 0.75rem; background: linear-gradient(135deg, #d97706, #f59e0b); color: #fff;
            border: none; border-radius: 8px; font-weight: 700; cursor: pointer; font-size: 0.9rem; margin-top: 0.5rem;
        }
        .eeq-login-box .eeq-demo-hint { font-size: 0.7rem; color: #64748b; margin-top: 0.75rem; text-align: center; }
        .eeq-login-box .eeq-demo-hint code { background: rgba(245,158,11,0.15); padding: 1px 5px; border-radius: 3px; color: #fbbf24; }
        .eeq-login-close {
            position: absolute; top: 12px; right: 16px; background: none; border: none;
            color: #64748b; font-size: 1.2rem; cursor: pointer;
        }
        .eeq-login-error { color: #f87171; font-size: 0.75rem; margin-top: 0.5rem; text-align: center; display: none; }
        [data-theme="light"] .eeq-login-box { background: #ffffff; border-color: #e2e8f0; }
        [data-theme="light"] .eeq-login-box h3 { color: #1e293b; }
        [data-theme="light"] .eeq-login-box p { color: #64748b; }
        [data-theme="light"] .eeq-login-box input { background: #f1f5f9; border-color: #e2e8f0; color: #1e293b; }

        /* Privacy Badge & Benchmark Meta */
        .eeq-privacy-badge { display: flex; align-items: center; justify-content: center; gap: 6px; font-size: 0.72rem; color: #64748b; margin-top: 0.5rem; padding: 6px 0; }
        .eeq-benchmark-meta { display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid rgba(255,255,255,0.08); }
        .eeq-benchmark-tag { font-size: 0.65rem; color: #64748b; background: rgba(255,255,255,0.04); padding: 3px 8px; border-radius: 4px; }

        /* Dark Mode Overrides */
        [data-theme="dark"] .eeq-pro-panel { background: linear-gradient(135deg, #0c1220 0%, #162032 100%); }
        [data-theme="dark"] .eeq-cta-block { background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(217,119,6,0.04)); }
        [data-theme="dark"] .eeq-login-box { background: #0f172a; }

        /* Responsive */
        @media (max-width: 768px) {
            .eeq-toolbar-row { flex-direction: column; align-items: stretch; }
            .eeq-toolbar-actions { justify-content: center; }
            .eeq-slider-grid { grid-template-columns: 1fr; }
            .eeq-kpi-grid { grid-template-columns: repeat(2, 1fr); }
            .eeq-cta-block { padding: 1.25rem 1rem; }
            .eeq-risk-table { font-size: 0.7rem; }
            .eeq-risk-table th, .eeq-risk-table td { padding: 0.35rem 0.5rem; }
            .eeq-tooltip-body { width: 200px; left: auto; right: -10px; transform: none; }
            .eeq-tooltip-body::after { left: auto; right: 20px; transform: none; }
            .eeq-tornado-label { width: 80px; }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0" defer></script>
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- Search Overlay & Modal -->
    <div class="search-overlay" id="searchOverlay"></div>
    <div class="search-modal" id="searchModal">
        <div class="search-input-wrap">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            <input type="text" class="search-input" id="searchInput" placeholder="Search articles, calculators, tools..." autocomplete="off">
            <kbd class="search-kbd">ESC</kbd>
        </div>
        <div class="search-results" id="searchResults">
            <div class="search-empty">Type to search across all content</div>
        </div>
        <div class="search-footer">
            <span><kbd class="search-kbd">&uarr;&darr;</kbd> Navigate</span>
            <span><kbd class="search-kbd">Enter</kbd> Open</span>
        </div>
    </div>

    <!-- TOC Sidebar (desktop, wide screens) -->
    <nav class="toc-sidebar" id="tocSidebar" aria-label="Table of Contents">
        <div class="toc-sidebar-label">On this page</div>
        <ul class="toc-sidebar-list" id="tocSidebarList"></ul>
    </nav>

    <!-- TOC Mobile Toggle -->
    <button class="toc-mobile-toggle" id="tocMobileToggle" aria-label="Table of contents">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
    </button>
    <div class="toc-mobile-backdrop" id="tocMobileBackdrop"></div>
    <div class="toc-mobile-drawer" id="tocMobileDrawer">
        <div class="toc-drawer-header">
            <span class="toc-drawer-title">Table of Contents</span>
            <button class="toc-drawer-close" id="tocDrawerClose" aria-label="Close">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            </button>
        </div>
        <ul class="toc-mobile-list" id="tocMobileList"></ul>
    </div>


    <a href="#main-content" class="skip-link">Skip to main content</a>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img loading="lazy" src="assets/profile-photo.jpg" alt="Bagus Dwi Permana" class="nav-avatar">
            </a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li class="nav-dropdown">
                    <a href="datacenter-solutions.html" class="nav-link">
                        DC Solutions
                        <svg class="dropdown-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="datacenter-solutions.html" style="color: #06b6d4; font-weight: 600;">DC Solutions Hub</a></li>
                        <li style="border-bottom: 1px solid rgba(255,255,255,0.1); margin: 4px 0;"></li>
                        <li><a href="datahallAI.html" style="color: #8b5cf6;">DC AI/HPC</a></li>
                        <li><a href="dc-conventional.html">DC Conventional</a></li>
                        <li style="border-bottom: 1px solid rgba(255,255,255,0.1); margin: 4px 0;"></li>
                        <li><a href="capex-calculator.html" style="color: #f59e0b;">CAPEX Calculator</a></li>
                        <li><a href="opex-calculator.html" style="color: #10b981;">OPEX Calculator</a></li>
                        <li style="border-bottom: 1px solid rgba(255,255,255,0.1); margin: 4px 0;"></li>
                        <li><a href="dcmoc/" style="color: #ef4444; font-weight: 600;">DC MOC</a></li>
                    </ul>
                </li>
                <li><a href="index.html#metrics" class="nav-link">Results</a></li>
                <li><a href="index.html#case-studies" class="nav-link">Case Studies</a></li>
                <li><a href="articles.html" class="nav-link">Articles</a></li>
                <li><a href="index.html#faq" class="nav-link">FAQ</a></li>
                <li><a href="index.html#contact" class="nav-link">Contact</a></li>
            </ul>
                        <button class="nav-search-btn" id="navSearchBtn" aria-label="Search" title="Search (Ctrl+K)">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            </button>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode" title="Toggle dark/light mode">
                <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
                <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </button>
            <button class="hamburger" aria-label="Open navigation menu" aria-expanded="false">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
        </div>
    </nav>

    <main id="main-content">
    <section class="article-hero">
        <div class="container">
            <a href="articles.html" class="back-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Back to Articles
            </a>
            <span class="article-category">Energy & Policy Analysis</span>
            <h1 class="article-title">AI Data Centers vs <span class="highlight">Citizen Electricity Bills</span>: Who Really Pays?</h1>
            <p class="article-subtitle">"Why are citizens asked to save electricity while AI data centers consume megawatts?" — A comprehensive analysis of AI's electricity appetite and its impact on 680 million Southeast Asian citizens.</p>
            <div class="article-meta">
                <span class="article-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                    25 min read
                </span>
                <span class="article-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    February 8, 2026
                </span>
                <span class="article-meta-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    Bagus Dwi Permana
                </span>
            </div>
        </div>
    </section>
    <!-- Series Navigation -->
    <div class="series-nav" style="margin-top: 1rem;">
        <div class="series-badge">
            <span class="series-badge-icon">11</span>
            Engineering Journal &mdash; Article 11 of 18
        </div>
        <span class="series-title"></span>
        <div class="series-links">
            <a href="article-10.html" class="series-link"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>Prev</a>
            <a href="article-12.html" class="series-link">Next<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg></a>
        </div>
    </div>


    <article class="article-content">
        <div class="container">
            <div class="article-body">
                <section class="toc-section">
                    <div class="toc-container">
                        <h2 class="toc-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="8" y1="6" x2="21" y2="6"></line>
                                <line x1="8" y1="12" x2="21" y2="12"></line>
                                <line x1="8" y1="18" x2="21" y2="18"></line>
                                <line x1="3" y1="6" x2="3.01" y2="6"></line>
                                <line x1="3" y1="12" x2="3.01" y2="12"></line>
                                <line x1="3" y1="18" x2="3.01" y2="18"></line>
                            </svg>
                            Table of Contents
                        </h2>
                        <div class="toc-grid">
                            <a href="#section-1" class="toc-item">
                                <div class="toc-item-number">SECTION 1</div>
                                <div class="toc-item-title">The Question That's Breaking the Internet</div>
                            </a>
                            <a href="#section-2" class="toc-item">
                                <div class="toc-item-number">SECTION 2</div>
                                <div class="toc-item-title">The Numbers Don't Lie: Global Data Center Energy Explosion</div>
                            </a>
                            <a href="#section-3" class="toc-item">
                                <div class="toc-item-number">SECTION 3</div>
                                <div class="toc-item-title">Southeast Asia: Ground Zero for Data Center Expansion</div>
                            </a>
                            <a href="#section-4" class="toc-item">
                                <div class="toc-item-number">SECTION 4</div>
                                <div class="toc-item-title">The Uncomfortable Truth: Who Really Pays?</div>
                            </a>
                            <a href="#section-5" class="toc-item toc-calculator">
                                <div class="toc-item-number">SECTION 5 <span class="toc-calc-badge"><i class="fas fa-calculator" style="font-size:0.5rem;"></i> Interactive</span></div>
                                <div class="toc-item-title">Interactive Calculator: Impact on Your Electricity Bill</div>
                            </a>
                            <a href="#section-6" class="toc-item">
                                <div class="toc-item-number">SECTION 6</div>
                                <div class="toc-item-title">The 15-Why Analysis: Root Causes</div>
                            </a>
                            <a href="#section-7" class="toc-item">
                                <div class="toc-item-number">SECTION 7</div>
                                <div class="toc-item-title">What Other Countries Are Doing</div>
                            </a>
                            <a href="#section-8" class="toc-item">
                                <div class="toc-item-number">SECTION 8</div>
                                <div class="toc-item-title">The Fairness Question: Breaking Down the Math</div>
                            </a>
                            <a href="#section-9" class="toc-item">
                                <div class="toc-item-number">SECTION 9</div>
                                <div class="toc-item-title">Recommendations: A Path Forward</div>
                            </a>
                            <a href="#section-10" class="toc-item">
                                <div class="toc-item-number">SECTION 10</div>
                                <div class="toc-item-title">Conclusion: The Question Remains</div>
                            </a>
                        </div>
                    </div>
                </section>

                <h2 id="section-1">1. The Question That's Breaking the Internet</h2>

                <p>Across Southeast Asia, a controversial question is sparking heated debates on social media: <strong>"Why are citizens asked to conserve electricity while AI data centers consume megawatts without restriction?"</strong></p>

                <p>The anger is palpable. Posts questioning this apparent double standard regularly exceed thousands of likes and reposts. And the frustration is understandable when you see the numbers.</p>

                <div class="controversy-box">
                    <h4>The Core Controversy</h4>
                    <p>A single AI-focused data center consumes electricity equivalent to <span class="stat-highlight">100,000 households</span>.</p>
                    <p>The largest facilities under construction will use <span class="stat-highlight">20x more</span> — equivalent to 2 million homes.</p>
                    <p style="font-size: 0.9rem; color: #94a3b8; margin-top: 1rem;">Source: International Energy Agency (IEA), 2025</p>
                </div>

                <!-- Data Validity Disclaimer -->
                <div class="warning-box" style="background: linear-gradient(135deg, #fefce8 0%, #fef9c3 100%); border-left-color: #ca8a04;">
                    <p style="color: #854d0e; margin-bottom: 0.5rem;"><strong>Data Validity Notice</strong></p>
                    <p style="color: #a16207; font-size: 0.9rem; margin: 0;">Data, tariff rates, and projections in this article are based on publicly available sources as of <strong>February 2026</strong>. Electricity prices fluctuate based on fuel costs, policy changes, and market conditions. Use the interactive calculator for real-time estimates with latest available data.</p>
                </div>

                <!-- Key Statistics Infographic -->
                <figure style="margin: 2.5rem 0; text-align: center;">
                    <img loading="lazy" src="assets/article-11-infographic.jpg" alt="AI Data Center Electricity Consumption Impact Infographic" style="max-width: 100%; height: auto; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15);">
                    <figcaption style="margin-top: 0.75rem; font-size: 0.875rem; color: #64748b; font-style: italic;">Figure 1: The scale of AI data center electricity consumption in perspective</figcaption>
                </figure>

                <h2 id="section-2">2. The Numbers Don't Lie: Global Data Center Energy Explosion</h2>

                <p>According to the <a href="https://www.iea.org/reports/energy-and-ai/energy-demand-from-ai" target="_blank">International Energy Agency (IEA)</a>, data centers consumed approximately <strong>415 terawatt-hours (TWh)</strong> of electricity globally in 2024 — representing <strong>1.5% of total global electricity consumption</strong>.</p>

                <p>But here's what's alarming: this is projected to <strong>double to 945 TWh by 2030</strong>, growing at 15% annually — four times faster than all other sectors combined.</p>

                <div class="forecast-viz">
                    <h4 style="margin-bottom: 1.5rem; color: #991b1b;">Global Data Center Electricity Consumption Forecast</h4>
                    <div class="forecast-bar">
                        <span class="year">2024</span>
                        <div class="bar-container">
                            <div class="bar" style="width: 44%;"><span>415 TWh</span></div>
                        </div>
                        <span class="value">415 TWh</span>
                    </div>
                    <div class="forecast-bar">
                        <span class="year">2026</span>
                        <div class="bar-container">
                            <div class="bar" style="width: 55%;"><span>520 TWh</span></div>
                        </div>
                        <span class="value">~520 TWh</span>
                    </div>
                    <div class="forecast-bar">
                        <span class="year">2028</span>
                        <div class="bar-container">
                            <div class="bar" style="width: 75%;"><span>710 TWh</span></div>
                        </div>
                        <span class="value">~710 TWh</span>
                    </div>
                    <div class="forecast-bar">
                        <span class="year">2030</span>
                        <div class="bar-container">
                            <div class="bar" style="width: 100%;"><span>945 TWh</span></div>
                        </div>
                        <span class="value">945 TWh</span>
                    </div>
                    <p style="font-size: 0.8rem; color: #64748b; margin-top: 1rem;">Source: IEA Energy and AI Report, 2025. Projection uses Base Case scenario.</p>
                </div>

                <h3>1.1 Why AI Data Centers Are Different</h3>

                <p>Traditional data centers and AI data centers are fundamentally different beasts when it comes to power consumption:</p>

                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h5>Traditional Server</h5>
                        <div class="value">200-500W</div>
                        <div class="unit">per server</div>
                    </div>
                    <div class="comparison-card dc">
                        <h5>NVIDIA H100 GPU</h5>
                        <div class="value">700W</div>
                        <div class="unit">per GPU (TDP)</div>
                    </div>
                    <div class="comparison-card dc">
                        <h5>NVIDIA B200 GPU</h5>
                        <div class="value">1,000W</div>
                        <div class="unit">per GPU (TDP)</div>
                    </div>
                    <div class="comparison-card dc">
                        <h5>AI Server Rack (8 GPUs)</h5>
                        <div class="value">40-100kW</div>
                        <div class="unit">per rack</div>
                    </div>
                </div>

                <p>A single AI training rack with 8 NVIDIA B200 GPUs can consume <strong>80-100 kW</strong> — equivalent to powering <strong>80-100 typical Indonesian homes simultaneously</strong>. The counter-argument, explored in <a href="article-12.html">our analysis of how data centers fund grid modernization</a>, is that this demand also drives renewable investment.</p>

                <h3>1.2 The ChatGPT Comparison</h3>

                <p>Every time you ask ChatGPT a question, you're using electricity. According to <a href="https://epoch.ai/gradient-updates/how-much-energy-does-chatgpt-use" target="_blank">Epoch AI research</a>:</p>

                <ul>
                    <li><strong>One ChatGPT query:</strong> ~0.3 watt-hours (Wh)</li>
                    <li><strong>One Google search:</strong> ~0.0003 kWh</li>
                    <li><strong>ChatGPT vs Google:</strong> AI queries use <strong>10-15x more electricity</strong></li>
                    <li><strong>Global ChatGPT daily usage:</strong> ~40 million kWh/day</li>
                </ul>

                <p>That's equivalent to the daily electricity consumption of a city of <strong>3 million people</strong>.</p>

                <h2 id="section-3">3. Southeast Asia: Ground Zero for Data Center Expansion</h2>

                <p>Southeast Asia's data center capacity is experiencing explosive growth. According to <a href="https://www.cushmanwakefield.com/en/singapore/insights/apac-data-centre-update" target="_blank">Cushman & Wakefield</a>:</p>

                <div class="highlight-box">
                    <p><strong>SEA Data Center Capacity:</strong> 1.68 GW (2024) → projected to exceed <strong>7.59 GW</strong> by 2030 — a <strong>4.5x increase</strong> in just six years.</p>
                </div>

                <div class="data-table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Country</th>
                                <th>Current Capacity (2024)</th>
                                <th>Pipeline/Announced</th>
                                <th>% of National Grid</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>🇸🇬 Singapore</td>
                                <td>~1,000 MW</td>
                                <td>+700 MW (Jurong Island)</td>
                                <td>~7%</td>
                            </tr>
                            <tr>
                                <td>🇲🇾 Malaysia</td>
                                <td>~505 MW</td>
                                <td>+808 MW (→1,313 MW)</td>
                                <td>~2%</td>
                            </tr>
                            <tr>
                                <td>🇮🇩 Indonesia</td>
                                <td>~300 MW</td>
                                <td>+500 MW (Digital Edge alone)</td>
                                <td>~0.5%</td>
                            </tr>
                            <tr>
                                <td>🇹🇭 Thailand</td>
                                <td>~250 MW</td>
                                <td>+350 MW (BOI approved)</td>
                                <td>~1%</td>
                            </tr>
                            <tr>
                                <td>🇻🇳 Vietnam</td>
                                <td>~150 MW</td>
                                <td>+10 GW (by 2028)</td>
                                <td>~0.3%</td>
                            </tr>
                            <tr>
                                <td>🇵🇭 Philippines</td>
                                <td>~120 MW</td>
                                <td>Growing</td>
                                <td>~0.5%</td>
                            </tr>
                        </tbody>
                    </table>
                    <p class="table-source">Sources: Cushman & Wakefield, Arizton Research, country-specific reports. Pipeline figures include announced projects. For educational and research purposes only.</p>
                </div>

                <h2 id="section-4">4. The Uncomfortable Truth: Who Really Pays?</h2>

                <p>This is where the controversy gets real. When data centers consume massive amounts of electricity, the costs don't stay isolated — they ripple through the entire grid system. And electricity is only part of the resource equation: the <a href="article-10.html">water stress crisis facing AI data centers</a> adds another layer of environmental and social impact.</p>

                <h3>3.1 The US Warning: A Preview for Southeast Asia</h3>

                <p>In the United States, the impact is already being felt and measured. According to <a href="https://www.warren.senate.gov/newsroom/press-releases/senator-warren-lawmakers-open-investigation-into-big-tech-data-centers-role-in-driving-up-families-utility-costs" target="_blank">Senator Elizabeth Warren's investigation</a>:</p>

                <div class="controversy-box">
                    <h4>PJM Grid Region (13 US States, 67 Million People)</h4>
                    <p>Consumers paid <span class="stat-highlight">$7.7 billion</span> in 2024-2025 for transmission upgrades driven largely by data center demand.</p>
                    <p>By 2028, average household bills projected to increase by <span class="stat-highlight">$70/month ($840/year)</span> due to data centers.</p>
                    <p style="margin-top: 1rem;">A Bloomberg investigation found electricity costs <span class="stat-highlight">267% higher</span> in areas near significant data center activity compared to 5 years ago.</p>
                </div>

                <h3>3.2 Southeast Asia Electricity Tariff Comparison</h3>

                <p>Let's examine the current electricity landscape across SEA countries:</p>

                <div class="data-table-container">
                    <table class="tariff-table">
                        <thead>
                            <tr>
                                <th>Country</th>
                                <th>Residential Tariff</th>
                                <th>Industrial Tariff</th>
                                <th>Recent Change</th>
                                <th>Subsidy Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="country-flag">🇮🇩</span>Indonesia</td>
                                <td>IDR 1,153/kWh (~$0.072)</td>
                                <td>IDR 1,444/kWh (~$0.09)</td>
                                <td><span class="tariff-change up">+4.5% (2024)</span></td>
                                <td>Heavy subsidy (IDR 83T budget)</td>
                            </tr>
                            <tr>
                                <td><span class="country-flag">🇲🇾</span>Malaysia</td>
                                <td>39.96 sen/kWh (~$0.085)</td>
                                <td>45.62 sen/kWh (~$0.097)</td>
                                <td><span class="tariff-change up">+14.2% (July 2025)</span></td>
                                <td>Targeted subsidy reform</td>
                            </tr>
                            <tr>
                                <td><span class="country-flag">🇸🇬</span>Singapore</td>
                                <td>~S$0.33/kWh (~$0.25)</td>
                                <td>Varies by contract</td>
                                <td><span class="tariff-change up">+5-10% (2024)</span></td>
                                <td>No subsidy</td>
                            </tr>
                            <tr>
                                <td><span class="country-flag">🇹🇭</span>Thailand</td>
                                <td>3.99 THB/unit (~$0.11)</td>
                                <td>4.18-4.32 THB/kWh</td>
                                <td><span class="tariff-change down">Capped (2025)</span></td>
                                <td>Ft mechanism</td>
                            </tr>
                            <tr>
                                <td><span class="country-flag">🇻🇳</span>Vietnam</td>
                                <td>VND 2,204/kWh (~$0.084)</td>
                                <td>VND 5,422/kWh peak (~$0.21)</td>
                                <td><span class="tariff-change up">+4.8% (May 2025)</span></td>
                                <td>Cross-subsidy system</td>
                            </tr>
                            <tr>
                                <td><span class="country-flag">🇵🇭</span>Philippines</td>
                                <td>PHP 13.01/kWh (~$0.23)</td>
                                <td>Varies by distributor</td>
                                <td><span class="tariff-change up">+6% (2025)</span></td>
                                <td>Universal charge</td>
                            </tr>
                        </tbody>
                    </table>
                    <p class="table-source">Sources: PLN, TNB, SP Group, PEA, EVN, Meralco official tariff schedules (2025-2026). Exchange rates as of Feb 2026. For educational and research purposes only.</p>
                </div>

                <h3>3.3 The Indonesian Paradox</h3>

                <p>Indonesia presents a particularly interesting case study. The government allocated <strong>IDR 83 trillion (~$5.1 billion)</strong> for electricity subsidies in 2025 to keep consumer prices low.</p>

                <p>However, according to <a href="https://www.thejakartapost.com/business/2024/06/01/electricity-subsidy-to-cost-rp-83-trillion-in-2025-pln-estimates.html" target="_blank">The Jakarta Post</a>:</p>

                <ul>
                    <li><strong>67.49%</strong> of subsidies are allocated to households — but inefficiently targeted</li>
                    <li>Upper-middle class groups who don't need subsidies receive most of the benefit</li>
                    <li>Actual electricity generation cost: <strong>IDR 1,732/kWh</strong> vs. average tariff: <strong>IDR 1,153/kWh</strong></li>
                    <li>The gap (<strong>~IDR 579/kWh</strong>) is covered by government subsidy</li>
                </ul>

                <p>When data centers — which consume industrial-scale electricity — benefit from grid infrastructure built and subsidized for citizens, the question of fairness becomes unavoidable.</p>

                <!-- Pro CTA Teaser -->
                <div class="eeq-cta-block" style="margin: 2rem 0;">
                    <h4><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:6px;vertical-align:middle;"><path d="M12 2L15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2z"/></svg> Strategic Intelligence Engine</h4>
                    <p>Unlock 6 strategic inputs, 10-Year NPV analysis, regional risk matrix, resilience scorecard, and Monte Carlo simulation with 10,000 iterations.</p>
                    <a href="#section-5" class="eeq-cta-btn" style="text-decoration:none;display:inline-block;"><i class="fas fa-calculator" style="margin-right:6px;"></i> Open Impact Calculator</a>
                </div>

                <h2 id="section-5">5. Interactive Calculator: Impact on Your Electricity Bill</h2>

                <p>Use this calculator to estimate how data center growth might impact electricity costs in your country. The model incorporates IEA growth projections, country-specific tariff structures, and infrastructure cost allocation methodologies.</p>

                <div class="impact-calculator">
                    <div class="calc-title">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#f87171" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                        Data Center Impact Calculator
                    </div>
                    <p class="calc-subtitle">Estimate how AI data center growth affects citizen electricity costs in Southeast Asia</p>

                    <div class="calc-grid">
                        <div class="calc-input-group">
                            <label for="calcCountry">Select Country <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">Country Selection</div><div class="eeq-tooltip-desc">Choose the APAC country to model. Each country has unique electricity tariff structures, grid mix, and DC growth trajectories sourced from IEA, IRENA, and national energy regulators.</div><div class="eeq-tooltip-formula">Affects: base tariff, grid carbon intensity, subsidy structure</div></span></span></label>
                            <select id="calcCountry" onchange="calculateImpact()">
                                <option value="indonesia">🇮🇩 Indonesia</option>
                                <option value="malaysia">🇲🇾 Malaysia</option>
                                <option value="singapore">🇸🇬 Singapore</option>
                                <option value="thailand">🇹🇭 Thailand</option>
                                <option value="vietnam">🇻🇳 Vietnam</option>
                                <option value="philippines">🇵🇭 Philippines</option>
                            </select>
                        </div>
                        <div class="calc-input-group">
                            <label for="calcYear">Projection Year <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">Projection Year</div><div class="eeq-tooltip-desc">Target year for the impact projection (2025-2035). Longer horizons compound DC capacity growth and tariff escalation effects.</div><div class="eeq-tooltip-formula">Tariff growth modeled at 2-5% CAGR depending on country</div></span></span></label>
                            <select id="calcYear" onchange="calculateImpact()">
                                <option value="2026">2026 (Current)</option>
                                <option value="2027">2027</option>
                                <option value="2028">2028</option>
                                <option value="2029">2029</option>
                                <option value="2030">2030</option>
                            </select>
                        </div>
                        <div class="calc-input-group">
                            <label for="calcHouseholdUsage">Monthly Household Usage (kWh) <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">Monthly Household Usage</div><div class="eeq-tooltip-desc">Your household's average monthly electricity consumption in kWh. Used to calculate your personal cost impact from DC-driven grid load increases.</div><div class="eeq-tooltip-formula">APAC avg: 200-500 kWh/mo &middot; US avg: ~900 kWh/mo</div></span></span></label>
                            <input type="number" id="calcHouseholdUsage" value="200" min="50" max="2000">
                        </div>
                        <div class="calc-input-group">
                            <label for="calcDCCapacity">New DC Capacity Added (MW) <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">New DC Capacity Added</div><div class="eeq-tooltip-desc">Additional data center IT load capacity (MW) planned for the selected country. Each MW of IT load requires ~1.3-1.6 MW total power (depending on PUE).</div><div class="eeq-tooltip-formula">1 MW IT &asymp; 1.4 MW total &asymp; 12.3 GWh/yr at 1.4 PUE</div></span></span></label>
                            <input type="number" id="calcDCCapacity" value="500" min="100" max="10000">
                        </div>
                    </div>

                    <div class="calc-button-wrapper">
                        <button type="button" class="calc-button" onclick="calculateImpact()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                            </svg>
                            Calculate Impact
                        </button>
                        <span class="calc-hint">Press Enter or click to calculate</span>
                    </div>

                    <div class="calc-results">
                        <div class="calc-result-item">
                            <div class="label">DC Annual Consumption <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">DC Annual Consumption</div><div class="eeq-tooltip-desc">Total annual electricity consumed by the new DC capacity, including cooling and infrastructure overhead (PUE-adjusted).</div><div class="eeq-tooltip-formula">MW &times; PUE &times; 8,760 hrs / 1,000 = GWh/yr</div></span></span></div>
                            <div class="value" id="dcConsumption">3,942</div>
                            <div class="subtext">GWh/year</div>
                        </div>
                        <div class="calc-result-item">
                            <div class="label">Households Equivalent <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">Households Equivalent</div><div class="eeq-tooltip-desc">Number of average households that could be powered by the same amount of electricity the DC consumes annually.</div><div class="eeq-tooltip-formula">DC GWh / (household kWh/mo &times; 12 / 1,000,000)</div></span></span></div>
                            <div class="value" id="householdsEquiv">1,642,500</div>
                            <div class="subtext">homes powered</div>
                        </div>
                        <div class="calc-result-item">
                            <div class="label">Est. Tariff Increase <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">Estimated Tariff Increase</div><div class="eeq-tooltip-desc">Projected percentage increase in residential electricity tariffs due to DC-driven demand growth on the national grid.</div><div class="eeq-tooltip-formula">Based on marginal cost of new generation capacity</div></span></span></div>
                            <div class="value" id="tariffIncrease">2.3%</div>
                            <div class="subtext">by selected year</div>
                        </div>
                        <div class="calc-result-item">
                            <div class="label">Your Monthly Impact <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">Your Monthly Impact</div><div class="eeq-tooltip-desc">Estimated additional cost on YOUR monthly electricity bill from DC-induced tariff increases.</div><div class="eeq-tooltip-formula">Monthly kWh &times; current tariff &times; % increase</div></span></span></div>
                            <div class="value yellow" id="monthlyImpact">$1.84</div>
                            <div class="subtext">additional cost/month</div>
                        </div>
                        <div class="calc-result-item">
                            <div class="label">Your Annual Impact <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">Your Annual Impact</div><div class="eeq-tooltip-desc">Annualized additional electricity cost to your household from DC-driven tariff escalation.</div><div class="eeq-tooltip-formula">Monthly impact &times; 12</div></span></span></div>
                            <div class="value" id="annualImpact">$22.08</div>
                            <div class="subtext">additional cost/year</div>
                        </div>
                        <div class="calc-result-item">
                            <div class="label">National Grid Load <span class="eeq-tooltip">?<span class="eeq-tooltip-body"><div class="eeq-tooltip-title">National Grid Load Increase</div><div class="eeq-tooltip-desc">Percentage increase in total national electricity demand caused by the new DC capacity.</div><div class="eeq-tooltip-formula">DC demand / national total demand &times; 100%</div></span></span></div>
                            <div class="value green" id="gridLoad">+1.2%</div>
                            <div class="subtext">increase in demand</div>
                        </div>
                    </div>

                    <p style="font-size: 0.75rem; color: #64748b; margin-top: 1.5rem; text-align: center;">
                        <strong>Methodology:</strong> Calculations use IEA's 15% annual DC growth rate, country-specific capacity factors (90% for DC),
                        average household consumption data from national statistics, and infrastructure cost allocation models based on PJM precedent
                        (adjusted for regional grid characteristics). Tariff increase estimates assume 40% of DC infrastructure costs are passed to
                        residential consumers through rate base adjustments.
                    </p>

                    <!-- ========== PRO ENHANCEMENT MODE ========== -->

                    <!-- Mode Toggle Toolbar -->
                    <div class="eeq-toolbar-row">
                        <div class="eeq-mode-bar">
                            <div class="eeq-mode-toggle">
                                <button class="eeq-mode-btn active" id="eeqFreeBtn" onclick="eeqSetMode('free')">Free</button>
                                <button class="eeq-mode-btn" id="eeqProBtn" onclick="eeqSetMode('pro')">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:4px"><path d="M12 2L15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2z"/></svg>
                                    Pro
                                </button>
                            </div>
                        </div>
                        <div class="eeq-toolbar-actions">
                            <button class="eeq-btn-reset" onclick="eeqResetDefaults()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
                                Reset
                            </button>
                            <button class="eeq-btn-pdf" onclick="eeqExportPDF()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/><path d="M12 18v-6"/><path d="M9 15l3 3 3-3"/></svg>
                                Export PDF
                            </button>
                        </div>
                    </div>

                    <!-- Pro Strategic Inputs (SI-02 to SI-06) -->
                    <div class="eeq-pro-inputs" id="eeqProInputs">
                        <div class="eeq-pro-inputs-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20V10"/><path d="M18 20V4"/><path d="M6 20v-4"/></svg>
                            Strategic Intelligence Inputs
                        </div>
                        <div class="eeq-slider-grid">
                            <div class="eeq-slider-card">
                                <div class="eeq-slider-label">
                                    <span class="eeq-si-tag">SI-02</span>
                                    GPU Thermal Density
                                    <span class="eeq-tooltip" tabindex="0">?
                                        <span class="eeq-tooltip-body">
                                            <div class="eeq-tooltip-title">GPU Thermal Density (kW/rack)</div>
                                            <div class="eeq-tooltip-desc">Power density per rack. AI racks range from 20 kW (mixed) to 100 kW (full GPU). Higher density = more cooling cost + grid stress.</div>
                                            <div class="eeq-tooltip-formula">Cooling Load = MW x (Density/40)</div>
                                        </span>
                                    </span>
                                </div>
                                <input type="range" id="eeqGpuDensity" min="20" max="100" value="40" oninput="eeqUpdateSliderDisplay()">
                                <div class="eeq-slider-minmax"><span>20 kW</span><span>100 kW</span></div>
                                <div class="eeq-slider-val" id="eeqGpuDensityVal">40 kW/rack</div>
                            </div>
                            <div class="eeq-slider-card">
                                <div class="eeq-slider-label">
                                    <span class="eeq-si-tag">SI-03</span>
                                    Subsidy Delta
                                    <span class="eeq-tooltip" tabindex="0">?
                                        <span class="eeq-tooltip-body">
                                            <div class="eeq-tooltip-title">Subsidy Delta (%)</div>
                                            <div class="eeq-tooltip-desc">Gap between real production cost and industry tariff. Higher delta means citizens subsidize more of the energy cost. Indonesia: ~33%, Singapore: ~5%.</div>
                                            <div class="eeq-tooltip-formula">Citizen Burden = Tariff x (SubsidyDelta/100)</div>
                                        </span>
                                    </span>
                                </div>
                                <input type="range" id="eeqSubsidyDelta" min="5" max="40" value="15" oninput="eeqUpdateSliderDisplay()">
                                <div class="eeq-slider-minmax"><span>5%</span><span>40%</span></div>
                                <div class="eeq-slider-val" id="eeqSubsidyDeltaVal">15%</div>
                            </div>
                            <div class="eeq-slider-card">
                                <div class="eeq-slider-label">
                                    <span class="eeq-si-tag">SI-04</span>
                                    Grid Resilience Index
                                    <span class="eeq-tooltip" tabindex="0">?
                                        <span class="eeq-tooltip-body">
                                            <div class="eeq-tooltip-title">Grid Resilience Index (3-9)</div>
                                            <div class="eeq-tooltip-desc">Quality and stability of power supply. 3 = fragile (frequent outages), 9 = robust (Singapore-level). Affects infrastructure investment needs and tariff pressure.</div>
                                            <div class="eeq-tooltip-formula">Infra Cost Multiplier = 10 / GridIndex</div>
                                        </span>
                                    </span>
                                </div>
                                <input type="range" id="eeqGridResilience" min="3" max="9" value="6" oninput="eeqUpdateSliderDisplay()">
                                <div class="eeq-slider-minmax"><span>3 (Fragile)</span><span>9 (Robust)</span></div>
                                <div class="eeq-slider-val" id="eeqGridResilienceVal">6</div>
                            </div>
                            <div class="eeq-slider-card">
                                <div class="eeq-slider-label">
                                    <span class="eeq-si-tag">SI-05</span>
                                    Community Impact Factor
                                    <span class="eeq-tooltip" tabindex="0">?
                                        <span class="eeq-tooltip-body">
                                            <div class="eeq-tooltip-title">Community Impact Factor (1-10)</div>
                                            <div class="eeq-tooltip-desc">Social license risk level. 1 = minimal opposition, 10 = active protest/political pressure. Affects regulatory and operational risk premiums.</div>
                                            <div class="eeq-tooltip-formula">Social Risk = CIF / 10 x 100</div>
                                        </span>
                                    </span>
                                </div>
                                <input type="range" id="eeqCommunityImpact" min="1" max="10" value="5" oninput="eeqUpdateSliderDisplay()">
                                <div class="eeq-slider-minmax"><span>1 (Low)</span><span>10 (High)</span></div>
                                <div class="eeq-slider-val" id="eeqCommunityImpactVal">5</div>
                            </div>
                            <div class="eeq-slider-card">
                                <div class="eeq-slider-label">
                                    <span class="eeq-si-tag">SI-06</span>
                                    Organizational Maturity
                                    <span class="eeq-tooltip" tabindex="0">?
                                        <span class="eeq-tooltip-body">
                                            <div class="eeq-tooltip-title">Organizational Maturity Level (1-5)</div>
                                            <div class="eeq-tooltip-desc">CMMI-style maturity. 1 = ad-hoc/reactive, 5 = optimized/proactive. Lower maturity increases Cost of Immaturity (higher incident costs, slower response).</div>
                                            <div class="eeq-tooltip-formula">CoI = ((C_resp - C_prev) / C_prev) x Gap</div>
                                        </span>
                                    </span>
                                </div>
                                <input type="range" id="eeqMaturity" min="1" max="5" value="3" oninput="eeqUpdateSliderDisplay()">
                                <div class="eeq-slider-minmax"><span>1 (Ad-hoc)</span><span>5 (Optimized)</span></div>
                                <div class="eeq-slider-val" id="eeqMaturityVal">Level 3</div>
                            </div>
                        </div>
                    </div>

                    <!-- Pro Panel 1: Financial Impact & NPV Analysis -->
                    <div class="eeq-pro-panel gated" id="eeqPanel1">
                        <div class="eeq-gate-overlay" onclick="eeqShowLogin()">
                            <span class="eeq-lock-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            </span>
                            <span>Pro Feature — Log in to unlock</span>
                        </div>
                        <div class="eeq-panel-title">
                            <span class="eeq-panel-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                            </span>
                            Financial Impact &amp; NPV Analysis
                        </div>
                        <div class="eeq-kpi-grid">
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqNpv">$0</div>
                                <div class="eeq-kpi-label">10-Year NPV Impact</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqVaR">$0</div>
                                <div class="eeq-kpi-label">VaR (95% Confidence)</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqCoI">$0</div>
                                <div class="eeq-kpi-label">Cost of Immaturity</div>
                                <div class="eeq-kpi-sublabel">Annual ($M)</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqSavings">$0</div>
                                <div class="eeq-kpi-label">Maturity Improvement Savings</div>
                                <div class="eeq-kpi-sublabel">Annual potential</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqInfraMultiplier">1.0x</div>
                                <div class="eeq-kpi-label">Infrastructure Cost Multiplier</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqSubsidyBurden">$0</div>
                                <div class="eeq-kpi-label">Citizen Subsidy Burden</div>
                                <div class="eeq-kpi-sublabel">Annual per household</div>
                            </div>
                        </div>
                    </div>

                    <!-- Pro Panel 2: Regional Comparative Risk Matrix -->
                    <div class="eeq-pro-panel gated" id="eeqPanel2">
                        <div class="eeq-gate-overlay" onclick="eeqShowLogin()">
                            <span class="eeq-lock-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            </span>
                            <span>Pro Feature — Log in to unlock</span>
                        </div>
                        <div class="eeq-panel-title">
                            <span class="eeq-panel-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                            </span>
                            Regional Comparative Risk Matrix
                        </div>
                        <div style="overflow-x:auto;">
                            <table class="eeq-risk-table" id="eeqRiskTable">
                                <thead>
                                    <tr>
                                        <th>Country</th>
                                        <th>Grid Stability</th>
                                        <th>Subsidy Dependence</th>
                                        <th>Regulatory</th>
                                        <th>Social License</th>
                                        <th>Composite</th>
                                    </tr>
                                </thead>
                                <tbody id="eeqRiskTableBody">
                                </tbody>
                            </table>
                        </div>
                        <p class="table-source" style="font-size:0.72rem;color:#64748b;font-style:italic;margin:0.4rem 0 1.2rem;">Source: Publicly available industry data and published standards. For educational and research purposes only.</p>
                    </div>

                    <!-- Pro Panel 3: Strategic Resilience Scorecard -->
                    <div class="eeq-pro-panel gated" id="eeqPanel3">
                        <div class="eeq-gate-overlay" onclick="eeqShowLogin()">
                            <span class="eeq-lock-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            </span>
                            <span>Pro Feature — Log in to unlock</span>
                        </div>
                        <div class="eeq-panel-title">
                            <span class="eeq-panel-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                            </span>
                            Strategic Resilience Scorecard
                        </div>
                        <div class="eeq-score-ring-wrap">
                            <canvas id="eeqScoreRing" width="160" height="160"></canvas>
                            <div class="eeq-score-ring-label">Aggregate Resilience Score</div>
                        </div>
                        <div class="eeq-kpi-grid">
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqEnergyScore">0</div>
                                <div class="eeq-kpi-label">Energy Security</div>
                                <div class="eeq-score-bar-bg"><div class="eeq-score-bar-fill med" id="eeqEnergyBar" style="width:0%"></div></div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqFinanceScore">0</div>
                                <div class="eeq-kpi-label">Financial Sustainability</div>
                                <div class="eeq-score-bar-bg"><div class="eeq-score-bar-fill med" id="eeqFinanceBar" style="width:0%"></div></div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqSocialScore">0</div>
                                <div class="eeq-kpi-label">Social License</div>
                                <div class="eeq-score-bar-bg"><div class="eeq-score-bar-fill med" id="eeqSocialBar" style="width:0%"></div></div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqOpsScore">0</div>
                                <div class="eeq-kpi-label">Operational Maturity</div>
                                <div class="eeq-score-bar-bg"><div class="eeq-score-bar-fill med" id="eeqOpsBar" style="width:0%"></div></div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqLeadershipCoeff">0.00</div>
                                <div class="eeq-kpi-label">Leadership Amplification</div>
                                <div class="eeq-kpi-sublabel">L(s) coefficient</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqWeakestDim">-</div>
                                <div class="eeq-kpi-label">Weakest Dimension</div>
                            </div>
                        </div>
                        <div class="eeq-narrative" id="eeqScorecardNarrative">
                            <h4>
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
                                Strategic Assessment
                            </h4>
                            <p id="eeqScorecardText">Loading assessment...</p>
                        </div>
                    </div>

                    <!-- Pro Panel 4: Monte Carlo Simulation -->
                    <div class="eeq-pro-panel gated" id="eeqPanel4">
                        <div class="eeq-gate-overlay" onclick="eeqShowLogin()">
                            <span class="eeq-lock-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            </span>
                            <span>Pro Feature — Log in to unlock</span>
                        </div>
                        <div class="eeq-panel-title">
                            <span class="eeq-panel-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                            </span>
                            Monte Carlo Simulation (10,000 Iterations)
                        </div>
                        <div class="eeq-kpi-grid">
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqMcP5">$0</div>
                                <div class="eeq-kpi-label">P5 (Best Case)</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqMcP25">$0</div>
                                <div class="eeq-kpi-label">P25</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqMcP50">$0</div>
                                <div class="eeq-kpi-label">P50 (Median)</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqMcP75">$0</div>
                                <div class="eeq-kpi-label">P75</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqMcP95">$0</div>
                                <div class="eeq-kpi-label">P95 (Worst Case)</div>
                            </div>
                            <div class="eeq-kpi-card">
                                <div class="eeq-kpi-value" id="eeqMcTopDriver">-</div>
                                <div class="eeq-kpi-label">Top Sensitivity Driver</div>
                            </div>
                        </div>
                        <div class="eeq-chart-container">
                            <canvas id="eeqMonteCarloChart" height="200"></canvas>
                        </div>
                        <div class="eeq-tornado-wrap" id="eeqTornadoWrap">
                            <div style="font-size:0.8rem;font-weight:700;color:#e2e8f0;margin-bottom:0.75rem;">Sensitivity Analysis (Tornado)</div>
                            <div id="eeqTornadoBars"></div>
                        </div>
                        <div class="eeq-narrative" id="eeqMcNarrative">
                            <h4>
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                                Monte Carlo Conclusion
                            </h4>
                            <p id="eeqMcNarrativeText">Loading simulation results...</p>
                        </div>
                    </div>

                    <!-- Pro CTA Block -->
                    <div class="eeq-cta-block" id="eeqCtaBlock">
                        <h4>Unlock Strategic Intelligence Engine</h4>
                        <p>Access NPV Analysis, Regional Risk Matrix, Resilience Scorecard, and Monte Carlo Simulation with 10,000 iterations. All calculations run locally in your browser.</p>
                        <button class="eeq-cta-btn" onclick="eeqShowLogin()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right:4px"><path d="M12 2L15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2z"/></svg>
                            Activate Pro Mode
                        </button>
                    </div>

                    <!-- Privacy & Benchmark -->
                    <div class="eeq-privacy-badge">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                        All calculations run locally in your browser. No data is sent to any server.
                    </div>
                    <div class="eeq-benchmark-meta">
                        <span class="eeq-benchmark-tag">IEA Energy & AI 2025</span>
                        <span class="eeq-benchmark-tag">6 SEA Countries</span>
                        <span class="eeq-benchmark-tag">10K MC Iterations</span>
                        <span class="eeq-benchmark-tag">NPV 10-Year @ 8%</span>
                        <span class="eeq-benchmark-tag">Feb 2026 Data</span>
                    </div>

                </div>

                <!-- Login Modal -->
                <div class="eeq-login-overlay" id="eeqLoginOverlay">
                    <div class="eeq-login-box">
                        <button class="eeq-login-close" onclick="eeqHideLogin()">&times;</button>
                        <h3>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2" style="margin-right:6px"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            Unlock Pro Analysis
                        </h3>
                        <p>Access Financial NPV, Regional Risk Matrix, Resilience Scorecard, and Monte Carlo projections for energy equity analysis.</p>
                        <input type="email" id="eeqLoginEmail" placeholder="Email address" autocomplete="email">
                        <input type="password" id="eeqLoginPass" placeholder="Password" autocomplete="current-password">
                        <div class="eeq-login-error" id="eeqLoginError">Invalid credentials. Please try again.</div>
                        <button class="eeq-login-submit" onclick="eeqDoLogin()">Sign In</button>
                        <div class="eeq-demo-hint">Demo: <code>demo@resistancezero.com</code> / <code>demo2026</code></div>
                        <div style="text-align:center;margin-top:6px;"><a href="mailto:bagus@resistancezero.com" style="font-size:0.62rem;color:#64748b;text-decoration:none;">Want full access? Get in touch &rarr;</a></div>
                <p style="text-align:center;font-size:0.68rem;color:#64748b;margin-top:8px;line-height:1.5;">By clicking Login, you agree to our <a href="terms.html" target="_blank" style="color:#8b5cf6;text-decoration:underline;">Terms of Service</a> and <a href="privacy.html" target="_blank" style="color:#8b5cf6;text-decoration:underline;">Privacy Policy</a>.</p>
                    </div>
                </div>

                <h2 id="section-6">6. The 15-Why Analysis: Root Causes</h2>

                <p>To understand this issue deeply, let's apply the "15-Why" methodology to trace the root causes:</p>

                <h3>Starting Point: Citizens face rising electricity bills while data centers expand</h3>

                <ol>
                    <li><strong>Why are bills rising?</strong> — Utilities need to recover infrastructure investment costs</li>
                    <li><strong>Why invest in infrastructure?</strong> — Grid must expand to meet growing demand</li>
                    <li><strong>Why is demand growing so fast?</strong> — Data centers represent concentrated, unprecedented load growth</li>
                    <li><strong>Why do data centers need so much power?</strong> — AI computing requires massive GPU clusters running 24/7</li>
                    <li><strong>Why are GPUs so power-hungry?</strong> — Neural network training requires parallel processing at scale</li>
                    <li><strong>Why build AI infrastructure in SEA?</strong> — Lower costs, growing markets, strategic location</li>
                    <li><strong>Why don't data centers pay full infrastructure costs?</strong> — Traditional rate structures weren't designed for this load pattern</li>
                    <li><strong>Why are rate structures outdated?</strong> — Regulatory frameworks move slower than technology</li>
                    <li><strong>Why can't regulators keep up?</strong> — Complex stakeholder interests and political considerations</li>
                    <li><strong>Why are political considerations involved?</strong> — Data centers promise jobs and economic development</li>
                    <li><strong>Why prioritize economic development?</strong> — Countries compete for tech investment</li>
                    <li><strong>Why do citizens bear the cost?</strong> — Diffuse costs across many consumers are less visible than concentrated benefits</li>
                    <li><strong>Why is this acceptable?</strong> — Lack of transparency in utility cost allocation</li>
                    <li><strong>Why no transparency?</strong> — Complex technical details make public oversight difficult</li>
                    <li><strong>Why not simplify?</strong> — This is where advocacy and policy change must intervene</li>
                </ol>

                <h2 id="section-7">7. What Other Countries Are Doing</h2>

                <p>The backlash has begun. According to <a href="https://stateline.org/2026/02/05/with-electricity-bills-rising-some-states-consider-new-data-center-laws/" target="_blank">Stateline</a>, over <strong>60 pieces of legislation</strong> related to data center cost allocation were introduced across <strong>22 US states</strong> in 2025.</p>

                <h3>6.1 Legislative Responses</h3>

                <ul>
                    <li><strong>Texas SB 6:</strong> Mandates re-evaluation of cost allocation methodologies</li>
                    <li><strong>New Jersey:</strong> Requires study on whether non-DC customers subsidize data centers</li>
                    <li><strong>Oregon:</strong> Bill to protect residential customers from subsidizing DC demand</li>
                    <li><strong>Federal "Power to the People Act":</strong> Would prevent consumers from subsidizing DC development through utility bills</li>
                </ul>

                <h3>6.2 Singapore's Approach</h3>

                <p>Singapore took a different approach — <strong>limiting supply</strong> rather than letting the market determine outcomes:</p>

                <ul>
                    <li><strong>2019-2022:</strong> Moratorium on new data center construction</li>
                    <li><strong>Post-2022:</strong> Strict sustainability requirements for new projects</li>
                    <li><strong>Requirement:</strong> 50% green energy sourcing, PUE ≤ 1.25</li>
                    <li><strong>Result:</strong> Oracle abandoned a 150MW facility after failing to secure power allocation</li>
                </ul>

                <h3>6.3 Malaysia's Evolving Stance</h3>

                <p>Malaysia is grappling with the tension between attracting investment and protecting consumers. According to <a href="https://www.malaysianow.com/news/2025/01/07/electricity-tariff-hike-sparks-debate-over-malaysias-love-affair-with-power-hungry-data-centres" target="_blank">MalaysiaNow</a>:</p>

                <blockquote>
                    "The looming electricity tariff hike sparks debate over Malaysia's love affair with power-hungry data centres"
                </blockquote>

                <p>TNB expects potential demand from data centres to reach <strong>5,000 MW by 2035</strong>, with applications already exceeding <strong>11,000 MW</strong>. The new July 2025 tariff structure explicitly states that "high-powered users like data centers will pay higher, cost-reflective tariffs."</p>

                <h2 id="section-8">8. The Fairness Question: Breaking Down the Math</h2>

                <p>Let's do the math on what "fair" might look like:</p>

                <div class="comparison-grid">
                    <div class="comparison-card household">
                        <h5>Average Indonesian Household</h5>
                        <div class="value">111 kWh</div>
                        <div class="unit">monthly consumption</div>
                        <p style="margin-top: 0.5rem; font-size: 0.85rem; color: #64748b;">Pays subsidized rate + contributes to infrastructure through taxes</p>
                    </div>
                    <div class="comparison-card dc">
                        <h5>100 MW AI Data Center</h5>
                        <div class="value">72,000,000 kWh</div>
                        <div class="unit">monthly consumption (@ 90% capacity)</div>
                        <p style="margin-top: 0.5rem; font-size: 0.85rem; color: #64748b;">= 648,648 Indonesian households</p>
                    </div>
                </div>

                <p>When that 100 MW data center connects to the grid, it requires:</p>
                <ul>
                    <li>New transmission lines</li>
                    <li>Substation upgrades</li>
                    <li>Generation capacity additions</li>
                    <li>Grid stability investments</li>
                </ul>

                <p>These costs are typically rolled into the "rate base" and spread across <strong>all consumers</strong>. In a system where residential consumers outnumber industrial users significantly, this means ordinary families end up subsidizing infrastructure built primarily to serve data centers.</p>

                <h2 id="section-9">9. Recommendations: A Path Forward</h2>

                <h3>8.1 For Policymakers</h3>

                <ol>
                    <li><strong>Implement cost-causation pricing:</strong> Those who cause infrastructure costs should pay proportionally</li>
                    <li><strong>Require transparency:</strong> Publish data center electricity consumption and infrastructure cost allocation</li>
                    <li><strong>Set sustainability standards:</strong> Following Singapore's model — no approval without renewable commitments</li>
                    <li><strong>Create dedicated DC tariff classes:</strong> Malaysia's new structure is a step in the right direction</li>
                </ol>

                <h3>8.2 For Data Center Operators</h3>

                <ol>
                    <li><strong>Self-generate with renewables:</strong> On-site solar, PPAs for wind/solar</li>
                    <li><strong>Invest in grid infrastructure:</strong> Co-invest in transmission assets serving DC needs</li>
                    <li><strong>Maximize efficiency:</strong> Every kWh saved reduces grid impact</li>
                    <li><strong>Transparency reporting:</strong> Publish energy consumption, efficiency metrics, renewable percentage</li>
                </ol>

                <h3>8.3 For Citizens</h3>

                <ol>
                    <li><strong>Demand transparency:</strong> Ask utilities to break down rate increases</li>
                    <li><strong>Support policy reform:</strong> Advocate for cost-reflective DC tariffs</li>
                    <li><strong>Understand the trade-offs:</strong> Data centers bring jobs and services — the question is fair cost allocation</li>
                </ol>

                <h2 id="section-10">10. Conclusion: The Question Remains</h2>

                <p>The social media outrage asking <em>"why are citizens told to save electricity while data centers consume megawatts?"</em> points to a legitimate policy failure: the lack of transparent, fair cost allocation in rapidly evolving energy systems.</p>

                <p>The data is clear:</p>
                <ul>
                    <li>AI data centers consume electricity at unprecedented scales</li>
                    <li>Infrastructure costs are being passed to residential consumers</li>
                    <li>SEA countries are at the beginning of a massive DC buildout — one where <a href="article-16.html">the risk of a Southeast Asian data center bubble</a> compounds the pressure on consumers</li>
                    <li>Without intervention, the US pattern will repeat in Southeast Asia</li>
                </ul>

                <blockquote>
                    "Working families, low-income households, and small businesses cannot subsidize the massive energy demands of corporate tech giants."
                    <br><span style="font-size: 0.9rem; color: #64748b;">— Coalition for Utility Fairness</span>
                </blockquote>

                <p>The technology isn't the problem — <strong>the policy framework is</strong>. Data centers are essential infrastructure for the digital economy. But "essential" doesn't mean "subsidized by ordinary citizens."</p>

                <p>The conversation has begun. The question now is whether Southeast Asian policymakers will learn from the US experience — or repeat it.</p>

                <div class="highlight-box">
                    <p><strong>Call to Action:</strong> Share this analysis. Ask your utility company how data center growth affects your rates. Demand transparency. The $30 billion flowing into SEA data centers over the next five years will reshape your electricity grid — and potentially your electricity bill. You have a right to know how.</p>
                </div>

                
                <!-- Independence Disclaimer -->
                <div style="margin:2rem 0 0;padding:1rem 0;border-top:1px solid rgba(255,255,255,0.06);text-align:center;">
                    <p style="font-size:0.72rem;color:#64748b;font-style:italic;line-height:1.6;margin:0;">All content on ResistanceZero is independent personal research derived from publicly available sources. This site does not represent any current or former employer. <a href="terms.html" style="color:#8b5cf6;">Terms &amp; Disclaimer</a></p>
                </div>

<div class="references" id="references">
                    <h3>References & Data Sources</h3>
                    <ol>
                        <li id="ref1">
                            <a href="https://www.iea.org/reports/energy-and-ai/energy-demand-from-ai" target="_blank" rel="noopener">Energy demand from AI – Energy and AI</a>
                            <span class="ref-source">International Energy Agency (IEA), 2025 — Global DC consumption: 415 TWh (2024), 945 TWh projection (2030)</span>
                        </li>
                        <li id="ref2">
                            <a href="https://www.spglobal.com/commodity-insights/en/news-research/latest-news/electric-power/041025-global-data-center-power-demand-to-double-by-2030-on-ai-surge-iea" target="_blank" rel="noopener">Global data center power demand to double by 2030</a>
                            <span class="ref-source">S&P Global, 2025 — IEA projection analysis</span>
                        </li>
                        <li id="ref3">
                            <a href="https://www.cushmanwakefield.com/en/singapore/insights/apac-data-centre-update" target="_blank" rel="noopener">APAC Data Centre Update: H1 2025</a>
                            <span class="ref-source">Cushman & Wakefield — SEA capacity data: 1.68 GW → 7.59 GW</span>
                        </li>
                        <li id="ref4">
                            <a href="https://www.warren.senate.gov/newsroom/press-releases/senator-warren-lawmakers-open-investigation-into-big-tech-data-centers-role-in-driving-up-families-utility-costs" target="_blank" rel="noopener">Warren Investigation into Big Tech Data Centers</a>
                            <span class="ref-source">US Senate, 2025 — $7.7B consumer cost in PJM region</span>
                        </li>
                        <li id="ref5">
                            <a href="https://www.thejakartapost.com/business/2024/06/01/electricity-subsidy-to-cost-rp-83-trillion-in-2025-pln-estimates.html" target="_blank" rel="noopener">Indonesia electricity subsidy to cost Rp 83 trillion in 2025</a>
                            <span class="ref-source">The Jakarta Post, 2024 — Indonesia subsidy analysis</span>
                        </li>
                        <li id="ref6">
                            <a href="https://www.malaysianow.com/news/2025/01/07/electricity-tariff-hike-sparks-debate-over-malaysias-love-affair-with-power-hungry-data-centres" target="_blank" rel="noopener">Electricity tariff hike sparks debate over Malaysia's data centres</a>
                            <span class="ref-source">MalaysiaNow, 2025 — TNB 5,000 MW projection</span>
                        </li>
                        <li id="ref7">
                            <a href="https://www.trgdatacenters.com/resource/nvidia-h100-power-consumption/" target="_blank" rel="noopener">NVIDIA H100 Power Consumption Guide</a>
                            <span class="ref-source">TRG Datacenters — H100: 700W TDP, B200: 1000W TDP</span>
                        </li>
                        <li id="ref8">
                            <a href="https://epoch.ai/gradient-updates/how-much-energy-does-chatgpt-use" target="_blank" rel="noopener">How much energy does ChatGPT use?</a>
                            <span class="ref-source">Epoch AI — ChatGPT query: ~0.3 Wh</span>
                        </li>
                        <li id="ref9">
                            <a href="https://stateline.org/2026/02/05/with-electricity-bills-rising-some-states-consider-new-data-center-laws/" target="_blank" rel="noopener">With electricity bills rising, some states consider new data center laws</a>
                            <span class="ref-source">Stateline, 2026 — 60+ bills in 22 US states</span>
                        </li>
                        <li id="ref10">
                            <a href="https://www.mytnb.com.my/tariff" target="_blank" rel="noopener">TNB Malaysia Tariff Schedule</a>
                            <span class="ref-source">Tenaga Nasional Berhad — Official tariff rates 2025</span>
                        </li>
                        <li id="ref11">
                            <a href="https://en.evn.com.vn/d/en-US/news/RETAIL-ELECTRICITY-TARIFF-Decision-No-1279QD-BCT-dated-9-May-2025-of-Ministry-of-Industry-and-Trade-60-28-252" target="_blank" rel="noopener">Vietnam Retail Electricity Tariff (May 2025)</a>
                            <span class="ref-source">EVN — VND 2,204/kWh average rate</span>
                        </li>
                        <li id="ref12">
                            <a href="https://company.meralco.com.ph/news-and-advisories/higher-rates-april-2025" target="_blank" rel="noopener">Meralco Rate Updates 2025</a>
                            <span class="ref-source">Meralco — PHP 13.01/kWh residential rate</span>
                        </li>
                    </ol>
                </div>

                <!-- Download PDF Section -->
                <div style="margin-top: 3rem; display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;">
                    <a href="article-11-paper.pdf" class="download-pdf-btn" download style="display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); color: white; padding: 1rem 2rem; border-radius: 12px; font-weight: 600; text-decoration: none; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7 10 12 15 17 10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        Download PDF Journal
                    </a>
                    <button onclick="window.print()" style="display: inline-flex; align-items: center; gap: 0.5rem; background: transparent; border: 2px solid #dc2626; color: #dc2626; padding: 1rem 2rem; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 6 2 18 2 18 9"/>
                            <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                            <rect x="6" y="14" width="12" height="8"/>
                        </svg>
                        Print Article
                    </button>
                </div>

                <!-- Newsletter -->
                <div class="newsletter-signup">
                    <h3>Stay Updated</h3>
                    <p>Get notified when new articles on data center operations and engineering excellence are published.</p>
                    <form class="newsletter-form" onsubmit="return subscribeNewsletter(event)">
                        <input type="email" placeholder="Enter your email" required>
                        <button type="submit">Subscribe</button>
                    </form>
                    <p class="newsletter-privacy">No spam. Unsubscribe anytime.</p>
                </div>

                <!-- Author Bio -->
                <div class="author-bio">
                    <div class="author-bio-image">
                        <img loading="lazy" src="assets/profile-photo.jpg" alt="Bagus Dwi Permana">
                    </div>
                    <div class="author-bio-content">
                        <h4>Bagus Dwi Permana</h4>
                        <p class="author-bio-title">Engineering Operations Manager | Ahli K3 Listrik</p>
                        <p>12+ years professional experience in critical infrastructure and operations. CDFOM certified. Transforming operations through systematic excellence and safety-first engineering.</p>
                        <div class="author-bio-links">
                            <a href="https://www.linkedin.com/in/bagus-dwi-permana-ba90b092" target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                                LinkedIn
                            </a>
                            <a href="https://github.com/baguspermana7-cpu" target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                                GitHub
                            </a>
                            <a href="mailto:baguspermana7@gmail.com">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                                Email
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Related Articles -->
                <div class="related-articles">
                    <h3>Continue Reading</h3>
                    <div class="related-grid">
                        <a href="article-12.html" class="related-card">
                            <div class="related-card-number">12</div>
                            <div class="related-card-content">
                                <h4>The Uncomfortable Truth: How AI Data Centers Are Secretly Funding Your Grid's Future</h4>
                                <p>Economic impact of AI infrastructure on power grids</p>
                            </div>
                        </a>
                        <a href="article-10.html" class="related-card">
                            <div class="related-card-number">10</div>
                            <div class="related-card-content">
                                <h4>Water Stress and AI Data Centers: The Hidden Crisis in Southeast Asia</h4>
                                <p>Environmental sustainability challenges</p>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- Article Navigation -->
                <div class="article-nav">
                    <a href="article-10.html">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                        Previous Article
                    </a>
                    <a href="article-12.html">
                        Next Article
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                    </a>
                </div>

            </div>
        </div>
    </article>

    </main>

    <!-- Footer -->
    <footer class="footer footer-enhanced">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <p class="footer-tagline-main">BUILT FOR MISSION CRITICAL INFRASTRUCTURE<br>MANAGEMENT // 2026</p>
                    <p class="footer-tagline-sub">ALL OPERATIONAL DATASETS PRESERVED.</p>
                    <p class="footer-copyright">&copy; 2026 Bagus Dwi Permana. All rights reserved.</p>
                </div>
                <div class="footer-nav">
                    <h4 class="footer-heading">NAVIGATION</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home Dashboard</a></li>
                        <li><a href="articles.html">Technical Journal</a></li>
                        <li><a href="index.html#case-studies">Case Studies</a></li>
                        <li><a href="datacenter-solutions.html">DC Solutions</a></li>
                    </ul>
                </div>
                <div class="footer-connect">
                    <h4 class="footer-heading">CONNECT</h4>
                    <ul class="footer-links">
                        <li><a href="https://www.linkedin.com/in/bagus-dwi-permana-ba90b092" target="_blank" rel="noopener">LinkedIn Profile</a></li>
                        <li><a href="articles.html">Technical Journal</a></li>
                        <li><a href="mailto:baguspermana7@gmail.com">Direct Contact</a></li>
                        <li><a href="https://github.com/baguspermana7-cpu" target="_blank" rel="noopener">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.min.js"></script>
    <script>
        // Country-specific data for calculator
        var countryData = {
            indonesia: {
                name: 'Indonesia',
                currency: 'IDR',
                currencySymbol: 'Rp',
                residentialTariff: 1153, // IDR/kWh
                usdRate: 16000,
                avgHouseholdKwh: 111,
                nationalGridGW: 70,
                dcCapacity2024: 300,
                growthMultiplier: 1.2
            },
            malaysia: {
                name: 'Malaysia',
                currency: 'MYR',
                currencySymbol: 'RM',
                residentialTariff: 0.3996, // MYR/kWh (sen converted)
                usdRate: 4.7,
                avgHouseholdKwh: 648,
                nationalGridGW: 35,
                dcCapacity2024: 505,
                growthMultiplier: 1.3
            },
            singapore: {
                name: 'Singapore',
                currency: 'SGD',
                currencySymbol: 'S$',
                residentialTariff: 0.33,
                usdRate: 1.35,
                avgHouseholdKwh: 400,
                nationalGridGW: 14,
                dcCapacity2024: 1000,
                growthMultiplier: 1.1
            },
            thailand: {
                name: 'Thailand',
                currency: 'THB',
                currencySymbol: '฿',
                residentialTariff: 3.99,
                usdRate: 36,
                avgHouseholdKwh: 300,
                nationalGridGW: 50,
                dcCapacity2024: 250,
                growthMultiplier: 1.25
            },
            vietnam: {
                name: 'Vietnam',
                currency: 'VND',
                currencySymbol: '₫',
                residentialTariff: 2204,
                usdRate: 25000,
                avgHouseholdKwh: 150,
                nationalGridGW: 80,
                dcCapacity2024: 150,
                growthMultiplier: 1.4
            },
            philippines: {
                name: 'Philippines',
                currency: 'PHP',
                currencySymbol: '₱',
                residentialTariff: 13.01,
                usdRate: 57,
                avgHouseholdKwh: 200,
                nationalGridGW: 25,
                dcCapacity2024: 120,
                growthMultiplier: 1.2
            }
        };

        function calculateImpact() {
            const country = document.getElementById('calcCountry').value;
            const year = parseInt(document.getElementById('calcYear').value);
            const householdUsage = parseFloat(document.getElementById('calcHouseholdUsage').value) || 200;
            const dcCapacityMW = parseFloat(document.getElementById('calcDCCapacity').value) || 500;

            const data = countryData[country];
            const yearsFromNow = year - 2026;

            // DC consumption calculation (90% capacity factor, 8760 hours/year)
            const dcAnnualGWh = (dcCapacityMW * 0.90 * 8760) / 1000;

            // Households equivalent
            const householdsEquiv = Math.round((dcCapacityMW * 1000 * 0.90 * 730) / (data.avgHouseholdKwh)); // monthly basis

            // Growth projection using IEA 15% annual growth
            const growthFactor = Math.pow(1.15, yearsFromNow) * data.growthMultiplier;

            // Estimated tariff increase (based on infrastructure cost allocation model)
            // Assuming 40% of DC infrastructure costs passed to residential, spread over consumer base
            const baseIncrease = (dcCapacityMW / (data.nationalGridGW * 1000)) * 100 * 0.4;
            const projectedIncrease = baseIncrease * growthFactor;

            // Monthly impact calculation
            const currentMonthlyBill = householdUsage * data.residentialTariff;
            const monthlyImpactLocal = currentMonthlyBill * (projectedIncrease / 100);
            const monthlyImpactUSD = monthlyImpactLocal / data.usdRate;
            const annualImpactUSD = monthlyImpactUSD * 12;

            // Grid load increase
            const gridLoadIncrease = (dcCapacityMW / (data.nationalGridGW * 1000)) * 100;

            // Update display
            document.getElementById('dcConsumption').textContent = dcAnnualGWh.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('householdsEquiv').textContent = householdsEquiv.toLocaleString();
            document.getElementById('tariffIncrease').textContent = projectedIncrease.toFixed(1) + '%';
            document.getElementById('monthlyImpact').textContent = '$' + monthlyImpactUSD.toFixed(2);
            document.getElementById('annualImpact').textContent = '$' + annualImpactUSD.toFixed(2);
            document.getElementById('gridLoad').textContent = '+' + gridLoadIncrease.toFixed(1) + '%';

            // Color coding for impact
            const monthlyEl = document.getElementById('monthlyImpact');
            if (monthlyImpactUSD > 5) {
                monthlyEl.className = 'value';
            } else if (monthlyImpactUSD > 2) {
                monthlyEl.className = 'value yellow';
            } else {
                monthlyEl.className = 'value green';
            }
        }

        // Initialize calculator
        document.addEventListener('DOMContentLoaded', function() {
            calculateImpact();

            // Add Enter key support for inputs
            const calcInputs = document.querySelectorAll('#calcHouseholdUsage, #calcDCCapacity');
            calcInputs.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        calculateImpact();
                    }
                });
            });
        });
    </script>

    <!-- Share Buttons - Floating Sidebar -->
    <aside class="share-buttons" id="shareButtons" aria-label="Share this article">
        <span class="share-label">Share</span>
        <button class="share-btn linkedin" data-tooltip="Share on LinkedIn" onclick="shareLinkedIn()" aria-label="Share on LinkedIn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
        </button>
        <button class="share-btn twitter" data-tooltip="Share on X" onclick="shareTwitter()" aria-label="Share on X">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        </button>
        <button class="share-btn whatsapp" data-tooltip="Share on WhatsApp" onclick="shareWhatsApp()" aria-label="Share on WhatsApp">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
        </button>
        <button class="share-btn copy" data-tooltip="Copy link" onclick="copyLink()" aria-label="Copy article link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="copy-icon"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="check-icon" style="display:none"><polyline points="20 6 9 17 4 12"></polyline></svg>
        </button>
    </aside>

    <script>
    // Share Buttons Functions
    (function(){const s=document.getElementById('shareButtons'),h=document.querySelector('.article-hero');if(s&&h){document.body.classList.add('has-share-buttons');new IntersectionObserver(e=>e.forEach(x=>s.classList.toggle('visible',!x.isIntersecting)),{threshold:.1}).observe(h)}})();
    function getShareData(){return{title:document.querySelector('meta[property="og:title"]')?.content||document.title,url:window.location.href}}
    function shareLinkedIn(){window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(getShareData().url)}`,'_blank','width=600,height=600')}
    function shareTwitter(){const d=getShareData();window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(d.title+' by @BagusDPermana')}&url=${encodeURIComponent(d.url)}`,'_blank','width=600,height=400')}
    function shareWhatsApp(){const d=getShareData();window.open(`https://wa.me/?text=${encodeURIComponent(d.title+'\n\n'+d.url)}`,'_blank')}
    function copyLink(){const b=document.querySelector('.share-btn.copy'),c=b.querySelector('.copy-icon'),k=b.querySelector('.check-icon');navigator.clipboard.writeText(window.location.href).then(()=>{b.classList.add('copied');c.style.display='none';k.style.display='block';b.setAttribute('data-tooltip','Copied!');setTimeout(()=>{b.classList.remove('copied');c.style.display='block';k.style.display='none';b.setAttribute('data-tooltip','Copy link')},2000)})}
    </script>
<script>
function subscribeNewsletter(e){e.preventDefault();var email=e.target.querySelector('input[type="email"]').value.trim();if(!email)return false;var subs=JSON.parse(localStorage.getItem('rz_newsletter_subscribers')||'[]');if(subs.find(function(s){return s.email===email})){alert('Already subscribed!');return false}subs.push({email:email,date:new Date().toISOString(),source:location.pathname.split('/').pop(),status:'active'});localStorage.setItem('rz_newsletter_subscribers',JSON.stringify(subs));e.target.innerHTML='<p style="color:#fff;font-weight:600;">&#10003; Subscribed successfully!</p>';return false}
</script>
<!-- ========== PRO ENHANCEMENT MODE JS ========== -->
<script>
(function() {
    'use strict';

    // ===== State =====
    var eeqProMode = false;

    // ===== Extended Country Risk Data =====
    var eeqCountryRisk = {
        indonesia: {
            gridStability: 5.5, subsidyDependence: 8.5, regulatory: 6.0, socialLicense: 7.0,
            gridLabel: 'Medium', subsidyLabel: 'Very High', regLabel: 'Medium-High', socialLabel: 'High',
            flag: '\u{1F1EE}\u{1F1E9}', subsidyDefault: 33, gridDefault: 5
        },
        malaysia: {
            gridStability: 4.0, subsidyDependence: 7.0, regulatory: 5.0, socialLicense: 5.5,
            gridLabel: 'Good', subsidyLabel: 'High', regLabel: 'Medium', socialLabel: 'Medium',
            flag: '\u{1F1F2}\u{1F1FE}', subsidyDefault: 20, gridDefault: 6
        },
        singapore: {
            gridStability: 2.0, subsidyDependence: 1.5, regulatory: 7.5, socialLicense: 3.0,
            gridLabel: 'Excellent', subsidyLabel: 'None', regLabel: 'High', socialLabel: 'Low',
            flag: '\u{1F1F8}\u{1F1EC}', subsidyDefault: 5, gridDefault: 9
        },
        thailand: {
            gridStability: 4.5, subsidyDependence: 5.0, regulatory: 4.5, socialLicense: 4.0,
            gridLabel: 'Good', subsidyLabel: 'Medium', regLabel: 'Medium', socialLabel: 'Low-Med',
            flag: '\u{1F1F9}\u{1F1ED}', subsidyDefault: 12, gridDefault: 7
        },
        vietnam: {
            gridStability: 6.5, subsidyDependence: 6.0, regulatory: 5.5, socialLicense: 4.5,
            gridLabel: 'Medium-Low', subsidyLabel: 'Medium-High', regLabel: 'Medium', socialLabel: 'Low-Med',
            flag: '\u{1F1FB}\u{1F1F3}', subsidyDefault: 18, gridDefault: 5
        },
        philippines: {
            gridStability: 7.0, subsidyDependence: 4.0, regulatory: 5.0, socialLicense: 6.5,
            gridLabel: 'Low', subsidyLabel: 'Medium', regLabel: 'Medium', socialLabel: 'Medium-High',
            flag: '\u{1F1F5}\u{1F1ED}', subsidyDefault: 10, gridDefault: 4
        }
    };

    // ===== Auth =====
    function eeqCheckAuth() {
        try {
            var s = JSON.parse(localStorage.getItem('rz_premium_session') || 'null');
            if (s && s.tier === 'pro' && new Date(s.expires) > new Date()) return true;
        } catch (e) {}
        return false;
    }

    // ===== Get All Inputs =====
    function eeqGetInputs() {
        var country = document.getElementById('calcCountry').value;
        var year = parseInt(document.getElementById('calcYear').value);
        var householdUsage = parseFloat(document.getElementById('calcHouseholdUsage').value) || 200;
        var dcCapacityMW = parseFloat(document.getElementById('calcDCCapacity').value) || 500;
        var gpuDensity = parseInt(document.getElementById('eeqGpuDensity').value);
        var subsidyDelta = parseInt(document.getElementById('eeqSubsidyDelta').value);
        var gridResilience = parseInt(document.getElementById('eeqGridResilience').value);
        var communityImpact = parseInt(document.getElementById('eeqCommunityImpact').value);
        var maturity = parseInt(document.getElementById('eeqMaturity').value);

        var data = countryData[country];
        var risk = eeqCountryRisk[country];
        var yearsFromNow = year - 2026;
        var growthFactor = Math.pow(1.15, yearsFromNow) * data.growthMultiplier;

        // DC annual consumption
        var dcAnnualGWh = (dcCapacityMW * 0.90 * 8760) / 1000;

        // Base tariff increase (from free calculator logic)
        var baseIncrease = (dcCapacityMW / (data.nationalGridGW * 1000)) * 100 * 0.4;
        var projectedIncrease = baseIncrease * growthFactor;

        // Monthly/annual impact in USD
        var currentMonthlyBill = householdUsage * data.residentialTariff;
        var monthlyImpactLocal = currentMonthlyBill * (projectedIncrease / 100);
        var monthlyImpactUSD = monthlyImpactLocal / data.usdRate;
        var annualImpactUSD = monthlyImpactUSD * 12;

        return {
            country: country,
            countryName: data.name,
            year: year,
            yearsFromNow: yearsFromNow,
            householdUsage: householdUsage,
            dcCapacityMW: dcCapacityMW,
            gpuDensity: gpuDensity,
            subsidyDelta: subsidyDelta,
            gridResilience: gridResilience,
            communityImpact: communityImpact,
            maturity: maturity,
            data: data,
            risk: risk,
            dcAnnualGWh: dcAnnualGWh,
            growthFactor: growthFactor,
            projectedIncrease: projectedIncrease,
            annualImpactUSD: annualImpactUSD,
            monthlyImpactUSD: monthlyImpactUSD,
            infraMultiplier: 10 / gridResilience,
            densityMultiplier: gpuDensity / 40
        };
    }

    // ===== Format Helpers =====
    function fmtUSD(val) {
        if (Math.abs(val) >= 1e9) return '$' + (val / 1e9).toFixed(2) + 'B';
        if (Math.abs(val) >= 1e6) return '$' + (val / 1e6).toFixed(2) + 'M';
        if (Math.abs(val) >= 1e3) return '$' + (val / 1e3).toFixed(1) + 'K';
        return '$' + val.toFixed(2);
    }

    // ===== Financial Calculations =====
    function eeqCalcFinancials(inputs) {
        var r = 0.08; // discount rate
        var annualBase = inputs.annualImpactUSD;
        // Scale by density and infra multiplier
        var annualAdj = annualBase * inputs.densityMultiplier * inputs.infraMultiplier;

        // NPV: 10-year sum of discounted annual citizen impact aggregated across affected households
        var householdsAffected = (inputs.dcCapacityMW * 1000 * 0.90 * 730) / inputs.data.avgHouseholdKwh;
        var annualAggregateImpact = annualAdj * Math.min(householdsAffected, inputs.data.nationalGridGW * 1000000 / inputs.data.avgHouseholdKwh * 0.1);
        // Cap to reasonable per-country scale
        annualAggregateImpact = Math.min(annualAggregateImpact, inputs.dcCapacityMW * 50000);

        var npv = 0;
        for (var t = 1; t <= 10; t++) {
            npv += annualAggregateImpact * Math.pow(1.03, t) / Math.pow(1 + r, t);
        }

        // Cost of Immaturity
        var baseIncidentCost = inputs.dcCapacityMW * 200; // $200 per MW per incident (thousands)
        var cResp = baseIncidentCost * (6 - inputs.maturity);
        var investmentCost = inputs.dcCapacityMW * 50; // $50 per MW investment
        var cPrev = investmentCost * inputs.maturity;
        var mTarget = 5;
        var mCurrent = inputs.maturity;
        var coiRaw = cPrev > 0 ? ((cResp - cPrev) / cPrev) * ((mTarget - mCurrent) / mTarget) : 0;
        var coiAnnual = Math.abs(coiRaw) * inputs.dcCapacityMW * 100; // scale to dollars

        // Savings from maturity improvement (+1 level)
        var cRespImproved = baseIncidentCost * (6 - Math.min(inputs.maturity + 1, 5));
        var cPrevImproved = investmentCost * Math.min(inputs.maturity + 1, 5);
        var coiImproved = cPrevImproved > 0 ? ((cRespImproved - cPrevImproved) / cPrevImproved) * ((mTarget - Math.min(inputs.maturity + 1, 5)) / mTarget) : 0;
        var coiImprovedAnnual = Math.abs(coiImproved) * inputs.dcCapacityMW * 100;
        var savingsFromMaturity = coiAnnual - coiImprovedAnnual;

        // Subsidy burden per household
        var subsidyBurdenPerHH = annualAdj * (inputs.subsidyDelta / 100) * 2;

        return {
            npv: npv,
            coiAnnual: coiAnnual,
            savingsFromMaturity: Math.max(0, savingsFromMaturity),
            infraMultiplier: inputs.infraMultiplier,
            subsidyBurden: subsidyBurdenPerHH,
            annualAggregateImpact: annualAggregateImpact
        };
    }

    // ===== Monte Carlo Simulation (10K iterations) =====
    function eeqRunMonteCarlo(inputs) {
        var N = 10000;
        var results = [];
        var base = inputs.annualImpactUSD * inputs.densityMultiplier * inputs.infraMultiplier;
        // Multiply by community factor for social risk premium
        base *= (1 + inputs.communityImpact / 20);

        for (var i = 0; i < N; i++) {
            // Box-Muller for normal distribution
            var u1 = Math.random(), u2 = Math.random();
            var z1 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);
            var z2 = Math.sqrt(-2 * Math.log(u1)) * Math.sin(2 * Math.PI * u2);
            var u3 = Math.random(), u4 = Math.random();
            var z3 = Math.sqrt(-2 * Math.log(u3)) * Math.cos(2 * Math.PI * u4);

            // Vary: subsidy delta +/-20%, grid resilience +/-2, DC capacity +/-30%
            var subsidyFactor = 1 + (z1 * 0.20);
            var gridFactor = 1 + (z2 * (2 / inputs.gridResilience));
            var capacityFactor = 1 + (z3 * 0.30);

            var simValue = base * subsidyFactor * gridFactor * capacityFactor;
            results.push(Math.max(0, simValue));
        }

        results.sort(function(a, b) { return a - b; });

        var sum = 0, sumSq = 0;
        for (var j = 0; j < N; j++) {
            sum += results[j];
            sumSq += results[j] * results[j];
        }
        var mean = sum / N;
        var std = Math.sqrt(sumSq / N - mean * mean);

        return {
            results: results,
            p5: results[Math.floor(N * 0.05)],
            p25: results[Math.floor(N * 0.25)],
            p50: results[Math.floor(N * 0.50)],
            p75: results[Math.floor(N * 0.75)],
            p95: results[Math.floor(N * 0.95)],
            mean: mean,
            std: std
        };
    }

    // ===== Sensitivity Analysis =====
    function eeqRunSensitivity(inputs) {
        var base = inputs.annualImpactUSD * inputs.densityMultiplier * inputs.infraMultiplier * (1 + inputs.communityImpact / 20);
        var delta = 0.10; // 10% variation

        // 6 variables, one per input
        var drivers = [
            {
                name: 'DC Capacity (MW)',
                impact: ((inputs.dcCapacityMW * (1 + delta)) / inputs.dcCapacityMW - 1) * 100
            },
            {
                name: 'GPU Density (kW)',
                impact: (((inputs.gpuDensity * (1 + delta)) / 40) / (inputs.gpuDensity / 40) - 1) * 100
            },
            {
                name: 'Subsidy Delta (%)',
                impact: delta * 100 * (inputs.subsidyDelta / 100) * 1.5 // amplified
            },
            {
                name: 'Grid Resilience',
                impact: ((10 / (inputs.gridResilience * (1 - delta))) / (10 / inputs.gridResilience) - 1) * 100
            },
            {
                name: 'Community Impact',
                impact: ((1 + (inputs.communityImpact * (1 + delta)) / 20) / (1 + inputs.communityImpact / 20) - 1) * 100
            },
            {
                name: 'Maturity Level',
                impact: Math.max(0, ((6 - Math.max(1, inputs.maturity - 0.5)) / (6 - inputs.maturity) - 1) * 100) || 5
            }
        ];

        drivers.sort(function(a, b) { return b.impact - a.impact; });
        return drivers;
    }

    // ===== Resilience Scorecard =====
    function eeqCalcResilience(inputs) {
        // Sub-scores (0-100)
        var energySecurity = Math.min(100, (inputs.gridResilience / 9) * 60 + (1 - inputs.dcCapacityMW / (inputs.data.nationalGridGW * 1000)) * 40);
        var financialSustainability = Math.max(0, 100 - inputs.subsidyDelta * 2 - (inputs.infraMultiplier - 1) * 20);
        var socialLicense = Math.max(0, 100 - inputs.communityImpact * 10);
        var opMaturity = (inputs.maturity / 5) * 100;

        // Weighted aggregate
        var aggregate = energySecurity * 0.30 + financialSustainability * 0.25 + socialLicense * 0.20 + opMaturity * 0.25;

        // Leadership Amplification: L(s) = L_max / (1 + exp(-k(s - s0)))
        var leadershipCoeff = 2.0 / (1 + Math.exp(-1.5 * (inputs.maturity - 3)));

        // Weakest dimension
        var dims = [
            { name: 'Energy Security', score: energySecurity },
            { name: 'Financial Sustainability', score: financialSustainability },
            { name: 'Social License', score: socialLicense },
            { name: 'Operational Maturity', score: opMaturity }
        ];
        dims.sort(function(a, b) { return a.score - b.score; });
        var weakest = dims[0];

        return {
            aggregate: Math.round(aggregate),
            energySecurity: Math.round(energySecurity),
            financialSustainability: Math.round(financialSustainability),
            socialLicense: Math.round(socialLicense),
            opMaturity: Math.round(opMaturity),
            leadershipCoeff: leadershipCoeff,
            weakest: weakest,
            dims: dims
        };
    }

    // ===== Narrative Generators =====
    function eeqGenerateScorecardNarrative(inputs, resilience, financials) {
        var parts = [];
        // Opening
        parts.push('For a ' + inputs.dcCapacityMW + ' MW facility in ' + inputs.countryName + ', the aggregate resilience score is ' + resilience.aggregate + '/100.');

        // Weakest dimension
        if (resilience.weakest.score < 40) {
            parts.push('CRITICAL: ' + resilience.weakest.name + ' scores only ' + resilience.weakest.score + '/100, indicating severe vulnerability that requires immediate strategic intervention.');
        } else if (resilience.weakest.score < 60) {
            parts.push('The weakest dimension is ' + resilience.weakest.name + ' at ' + resilience.weakest.score + '/100, presenting a moderate risk that should be addressed within the current planning cycle.');
        } else {
            parts.push('All dimensions score above 60/100. The relative weakness in ' + resilience.weakest.name + ' (' + resilience.weakest.score + '/100) represents an optimization opportunity rather than a critical gap.');
        }

        // Leadership coefficient
        if (inputs.maturity <= 2) {
            parts.push('At maturity Level ' + inputs.maturity + ', the Leadership Amplification coefficient is ' + resilience.leadershipCoeff.toFixed(2) + 'x (well below the 2.0x maximum), meaning organizational capability significantly limits strategic execution.');
        } else if (inputs.maturity >= 4) {
            parts.push('Maturity Level ' + inputs.maturity + ' yields a Leadership Amplification of ' + resilience.leadershipCoeff.toFixed(2) + 'x, approaching the theoretical maximum of 2.0x. This indicates strong organizational capability to execute complex energy equity strategies.');
        }

        // CoI
        parts.push('The Cost of Immaturity is ' + fmtUSD(financials.coiAnnual) + ' annually; improving maturity by one level could save ' + fmtUSD(financials.savingsFromMaturity) + '/year.');

        return parts.join(' ');
    }

    function eeqGenerateMcNarrative(inputs, mcData, sensitivity) {
        var parts = [];

        parts.push('For a ' + inputs.dcCapacityMW + ' MW facility in ' + inputs.countryName + ', with a subsidy delta of ' + inputs.subsidyDelta + '%, Monte Carlo simulation (10,000 iterations) projects a median annual citizen bill impact of ' + fmtUSD(mcData.p50) + ' with 90% confidence interval of [' + fmtUSD(mcData.p5) + ' - ' + fmtUSD(mcData.p95) + '].');

        parts.push('The primary sensitivity driver is ' + sensitivity[0].name + ' (+' + sensitivity[0].impact.toFixed(1) + '% per 10% change), followed by ' + sensitivity[1].name + ' (+' + sensitivity[1].impact.toFixed(1) + '%).');

        if (mcData.p95 > mcData.p50 * 2) {
            parts.push('The distribution shows significant right-tail risk: worst-case scenarios (P95) are more than 2x the median, suggesting high uncertainty that warrants conservative planning and scenario buffers.');
        } else {
            parts.push('The distribution is relatively symmetric, indicating predictable outcomes under normal conditions. Variance is primarily driven by ' + sensitivity[0].name.toLowerCase() + ' assumptions.');
        }

        // Recommendation
        if (inputs.gridResilience <= 5) {
            parts.push('Recommendation: Prioritize grid resilience improvement (currently ' + inputs.gridResilience + '/9). Investing in dedicated power infrastructure and redundancy will reduce both the median impact and tail risk exposure.');
        } else if (inputs.subsidyDelta >= 20) {
            parts.push('Recommendation: Advocate for subsidy reform (current delta ' + inputs.subsidyDelta + '%). Transparent cost-causation pricing will reduce citizen burden and improve long-term regulatory predictability.');
        } else if (inputs.maturity <= 2) {
            parts.push('Recommendation: Invest in organizational maturity improvement from Level ' + inputs.maturity + ' to Level ' + Math.min(inputs.maturity + 2, 5) + '. The Cost of Immaturity currently represents a significant hidden tax on operations.');
        } else {
            parts.push('Recommendation: Focus on community engagement (CIF = ' + inputs.communityImpact + '/10) to maintain social license as facility operations scale.');
        }

        return parts.join(' ');
    }

    // ===== Draw Score Ring =====
    function eeqDrawScoreRing(score) {
        var canvas = document.getElementById('eeqScoreRing');
        if (!canvas || !canvas.getContext) return;
        var ctx = canvas.getContext('2d');
        var size = 160;
        canvas.width = size;
        canvas.height = size;
        ctx.clearRect(0, 0, size, size);

        var cx = size / 2, cy = size / 2, radius = 60, lineW = 10;
        var startAngle = -Math.PI / 2;
        var endAngle = startAngle + (score / 100) * 2 * Math.PI;

        // Background ring
        ctx.beginPath();
        ctx.arc(cx, cy, radius, 0, 2 * Math.PI);
        ctx.strokeStyle = 'rgba(255,255,255,0.1)';
        ctx.lineWidth = lineW;
        ctx.stroke();

        // Score ring
        var gradient = ctx.createLinearGradient(0, 0, size, size);
        if (score >= 70) { gradient.addColorStop(0, '#10b981'); gradient.addColorStop(1, '#34d399'); }
        else if (score >= 40) { gradient.addColorStop(0, '#f59e0b'); gradient.addColorStop(1, '#fbbf24'); }
        else { gradient.addColorStop(0, '#ef4444'); gradient.addColorStop(1, '#f87171'); }

        ctx.beginPath();
        ctx.arc(cx, cy, radius, startAngle, endAngle);
        ctx.strokeStyle = gradient;
        ctx.lineWidth = lineW;
        ctx.lineCap = 'round';
        ctx.stroke();

        // Score text
        ctx.fillStyle = '#e2e8f0';
        ctx.font = 'bold 32px Inter, sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(score, cx, cy - 6);

        ctx.fillStyle = '#94a3b8';
        ctx.font = '11px Inter, sans-serif';
        ctx.fillText('/100', cx, cy + 18);
    }

    // ===== Draw Monte Carlo Histogram =====
    function eeqDrawMonteCarloChart(mcData) {
        var canvas = document.getElementById('eeqMonteCarloChart');
        if (!canvas || !canvas.getContext) return;
        var ctx = canvas.getContext('2d');
        var W = canvas.parentElement.clientWidth - 32;
        canvas.width = W;
        canvas.height = 200;
        ctx.clearRect(0, 0, W, 200);

        var results = mcData.results;
        var minVal = results[0], maxVal = results[results.length - 1], range = maxVal - minVal || 1;
        var numBins = 40, bins = new Array(numBins).fill(0);
        results.forEach(function(v) {
            var bin = Math.min(Math.floor((v - minVal) / range * numBins), numBins - 1);
            bins[bin]++;
        });
        var maxBin = Math.max.apply(null, bins);
        var chartH = 150, baseY = 175, barW = (W - 60) / numBins;

        // Title
        ctx.fillStyle = '#94a3b8';
        ctx.font = '11px Inter, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('Annual Citizen Bill Impact Distribution (10,000 Simulations)', W / 2, 15);

        bins.forEach(function(count, i) {
            var x = 30 + i * barW;
            var barH = maxBin > 0 ? (count / maxBin) * chartH : 0;
            var y = baseY - barH;
            var binCenter = minVal + (i + 0.5) * range / numBins;

            if (binCenter <= mcData.p5) ctx.fillStyle = '#10b981';
            else if (binCenter <= mcData.p50) ctx.fillStyle = '#f59e0b';
            else if (binCenter <= mcData.p95) ctx.fillStyle = '#d97706';
            else ctx.fillStyle = '#ef4444';

            ctx.fillRect(x, y, Math.max(barW - 1, 1), barH);
        });

        // P-lines
        var markers = [
            { val: mcData.p5, label: 'P5', color: '#10b981' },
            { val: mcData.p50, label: 'P50', color: '#fbbf24' },
            { val: mcData.p95, label: 'P95', color: '#ef4444' }
        ];
        markers.forEach(function(m) {
            var xPos = 30 + ((m.val - minVal) / range) * (W - 60);
            ctx.strokeStyle = m.color;
            ctx.lineWidth = 1.5;
            ctx.setLineDash([4, 3]);
            ctx.beginPath();
            ctx.moveTo(xPos, 25);
            ctx.lineTo(xPos, baseY);
            ctx.stroke();
            ctx.setLineDash([]);
            ctx.fillStyle = m.color;
            ctx.font = 'bold 9px Inter, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText(m.label, xPos, baseY + 13);
        });
    }

    // ===== Draw Tornado Bars =====
    function eeqDrawTornado(sensitivity) {
        var container = document.getElementById('eeqTornadoBars');
        if (!container) return;
        var maxImpact = Math.max.apply(null, sensitivity.map(function(d) { return d.impact; })) || 1;
        var html = '';
        sensitivity.forEach(function(d) {
            var pct = Math.min(100, (d.impact / maxImpact) * 100);
            html += '<div class="eeq-tornado-bar-row">';
            html += '<div class="eeq-tornado-label">' + d.name + '</div>';
            html += '<div class="eeq-tornado-bar-container"><div class="eeq-tornado-bar" style="width:' + pct + '%"></div></div>';
            html += '<div class="eeq-tornado-val">+' + d.impact.toFixed(1) + '%</div>';
            html += '</div>';
        });
        container.innerHTML = html;
    }

    // ===== Build Risk Matrix Table =====
    function eeqBuildRiskTable(currentCountry) {
        var tbody = document.getElementById('eeqRiskTableBody');
        if (!tbody) return;
        var html = '';
        var countries = ['indonesia', 'malaysia', 'singapore', 'thailand', 'vietnam', 'philippines'];

        countries.forEach(function(key) {
            var r = eeqCountryRisk[key];
            var d = countryData[key];
            var composite = (r.gridStability + r.subsidyDependence + r.regulatory + r.socialLicense) / 4;
            var isHighlight = key === currentCountry;

            function badge(val) {
                if (val >= 6) return '<span class="eeq-risk-badge high">' + val.toFixed(1) + '</span>';
                if (val >= 4) return '<span class="eeq-risk-badge med">' + val.toFixed(1) + '</span>';
                return '<span class="eeq-risk-badge low">' + val.toFixed(1) + '</span>';
            }

            html += '<tr' + (isHighlight ? ' class="eeq-highlight"' : '') + '>';
            html += '<td>' + r.flag + ' ' + d.name + '</td>';
            html += '<td>' + badge(r.gridStability) + '</td>';
            html += '<td>' + badge(r.subsidyDependence) + '</td>';
            html += '<td>' + badge(r.regulatory) + '</td>';
            html += '<td>' + badge(r.socialLicense) + '</td>';
            html += '<td>' + badge(composite) + '</td>';
            html += '</tr>';
        });

        tbody.innerHTML = html;
    }

    // ===== Update Slider Display =====
    window.eeqUpdateSliderDisplay = function() {
        document.getElementById('eeqGpuDensityVal').textContent = document.getElementById('eeqGpuDensity').value + ' kW/rack';
        document.getElementById('eeqSubsidyDeltaVal').textContent = document.getElementById('eeqSubsidyDelta').value + '%';
        document.getElementById('eeqGridResilienceVal').textContent = document.getElementById('eeqGridResilience').value;
        document.getElementById('eeqCommunityImpactVal').textContent = document.getElementById('eeqCommunityImpact').value;
        document.getElementById('eeqMaturityVal').textContent = 'Level ' + document.getElementById('eeqMaturity').value;

        if (eeqProMode) {
            eeqUpdateProPanels();
        }
    };

    // ===== Update All Pro Panels =====
    function eeqUpdateProPanels() {
        var inputs = eeqGetInputs();
        var financials = eeqCalcFinancials(inputs);
        var mcData = eeqRunMonteCarlo(inputs);
        var sensitivity = eeqRunSensitivity(inputs);
        var resilience = eeqCalcResilience(inputs);

        // Panel 1: Financial Impact
        document.getElementById('eeqNpv').textContent = fmtUSD(financials.npv);
        document.getElementById('eeqVaR').textContent = fmtUSD(mcData.p95);
        document.getElementById('eeqCoI').textContent = fmtUSD(financials.coiAnnual);
        document.getElementById('eeqSavings').textContent = fmtUSD(financials.savingsFromMaturity);
        document.getElementById('eeqInfraMultiplier').textContent = financials.infraMultiplier.toFixed(1) + 'x';
        document.getElementById('eeqSubsidyBurden').textContent = fmtUSD(financials.subsidyBurden);

        // Panel 2: Risk Matrix
        eeqBuildRiskTable(inputs.country);

        // Panel 3: Resilience Scorecard
        document.getElementById('eeqEnergyScore').textContent = resilience.energySecurity;
        document.getElementById('eeqFinanceScore').textContent = resilience.financialSustainability;
        document.getElementById('eeqSocialScore').textContent = resilience.socialLicense;
        document.getElementById('eeqOpsScore').textContent = resilience.opMaturity;
        document.getElementById('eeqLeadershipCoeff').textContent = resilience.leadershipCoeff.toFixed(2) + 'x';
        document.getElementById('eeqWeakestDim').textContent = resilience.weakest.name;

        // Score bars
        function setBar(id, val) {
            var el = document.getElementById(id);
            if (!el) return;
            el.style.width = val + '%';
            el.className = 'eeq-score-bar-fill ' + (val >= 60 ? 'low' : val >= 35 ? 'med' : 'high');
        }
        setBar('eeqEnergyBar', resilience.energySecurity);
        setBar('eeqFinanceBar', resilience.financialSustainability);
        setBar('eeqSocialBar', resilience.socialLicense);
        setBar('eeqOpsBar', resilience.opMaturity);

        // Score ring
        eeqDrawScoreRing(resilience.aggregate);

        // Scorecard narrative
        document.getElementById('eeqScorecardText').textContent = eeqGenerateScorecardNarrative(inputs, resilience, financials);

        // Panel 4: Monte Carlo
        document.getElementById('eeqMcP5').textContent = fmtUSD(mcData.p5);
        document.getElementById('eeqMcP25').textContent = fmtUSD(mcData.p25);
        document.getElementById('eeqMcP50').textContent = fmtUSD(mcData.p50);
        document.getElementById('eeqMcP75').textContent = fmtUSD(mcData.p75);
        document.getElementById('eeqMcP95').textContent = fmtUSD(mcData.p95);
        document.getElementById('eeqMcTopDriver').textContent = sensitivity[0].name;

        // Draw charts
        if (eeqProMode) {
            eeqDrawMonteCarloChart(mcData);
            eeqDrawTornado(sensitivity);
        }

        // MC narrative
        document.getElementById('eeqMcNarrativeText').textContent = eeqGenerateMcNarrative(inputs, mcData, sensitivity);
    }

    // ===== Unlock / Lock Panels =====
    function eeqUnlockPanels() {
        eeqProMode = true;
        document.querySelectorAll('.eeq-pro-panel').forEach(function(p) {
            p.classList.remove('gated');
            var overlay = p.querySelector('.eeq-gate-overlay');
            if (overlay) overlay.style.display = 'none';
        });
        document.getElementById('eeqProBtn').classList.add('active');
        document.getElementById('eeqFreeBtn').classList.remove('active');
        document.getElementById('eeqProInputs').classList.add('visible');
        var cta = document.getElementById('eeqCtaBlock');
        if (cta) cta.style.display = 'none';
        eeqUpdateProPanels();
    }

    function eeqLockPanels() {
        eeqProMode = false;
        document.querySelectorAll('.eeq-pro-panel').forEach(function(p) {
            p.classList.add('gated');
            var overlay = p.querySelector('.eeq-gate-overlay');
            if (overlay) overlay.style.display = '';
        });
        document.getElementById('eeqFreeBtn').classList.add('active');
        document.getElementById('eeqProBtn').classList.remove('active');
        document.getElementById('eeqProInputs').classList.remove('visible');
        var cta = document.getElementById('eeqCtaBlock');
        if (cta) cta.style.display = '';
    }

    // ===== Mode Switching =====
    window.eeqSetMode = function(mode) {
        if (mode === 'pro') {
            if (eeqCheckAuth()) { eeqUnlockPanels(); }
            else { eeqShowLogin(); }
        } else {
            eeqLockPanels();
        }
    };

    // ===== Login Handlers =====
    window.eeqShowLogin = function() {
        document.getElementById('eeqLoginOverlay').classList.add('active');
        document.getElementById('eeqLoginError').style.display = 'none';
        document.getElementById('eeqLoginEmail').value = '';
        document.getElementById('eeqLoginPass').value = '';
        setTimeout(function() { document.getElementById('eeqLoginEmail').focus(); }, 100);
    };

    window.eeqHideLogin = function() {
        document.getElementById('eeqLoginOverlay').classList.remove('active');
    };

    window.eeqDoLogin = function() {
        var email = document.getElementById('eeqLoginEmail').value.trim().toLowerCase();
        var pass = document.getElementById('eeqLoginPass').value;
        if (email === 'demo@resistancezero.com' && pass === 'demo2026') {
            var session = { email: email, tier: 'pro', expires: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString() };
            localStorage.setItem('rz_premium_session', JSON.stringify(session));
            window.dispatchEvent(new Event('rz-auth-change'));
            eeqHideLogin();
            eeqUnlockPanels();
        } else {
            document.getElementById('eeqLoginError').style.display = 'block';
        }
    };

    // Enter key in login
    document.getElementById('eeqLoginPass').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') eeqDoLogin();
    });
    document.getElementById('eeqLoginEmail').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') document.getElementById('eeqLoginPass').focus();
    });

    // Close on overlay click
    document.getElementById('eeqLoginOverlay').addEventListener('click', function(e) {
        if (e.target === this) eeqHideLogin();
    });

    // ===== Reset =====
    window.eeqResetDefaults = function() {
        document.getElementById('calcCountry').value = 'indonesia';
        document.getElementById('calcYear').value = '2026';
        document.getElementById('calcHouseholdUsage').value = '200';
        document.getElementById('calcDCCapacity').value = '500';
        document.getElementById('eeqGpuDensity').value = '40';
        document.getElementById('eeqSubsidyDelta').value = '15';
        document.getElementById('eeqGridResilience').value = '6';
        document.getElementById('eeqCommunityImpact').value = '5';
        document.getElementById('eeqMaturity').value = '3';
        eeqUpdateSliderDisplay();
        calculateImpact();
    };

    // ===== PDF Export =====
    window.eeqExportPDF = function() {
        if (!eeqCheckAuth()) { eeqShowLogin(); return; }

        var inputs = eeqGetInputs();
        var financials = eeqCalcFinancials(inputs);
        var mcData = eeqRunMonteCarlo(inputs);
        var sensitivity = eeqRunSensitivity(inputs);
        var resilience = eeqCalcResilience(inputs);

        // Build SVG histogram
        function buildHistogramSVG() {
            var results = mcData.results;
            var minV = results[0], maxV = results[results.length - 1], range = maxV - minV || 1;
            var numBins = 40, bins = new Array(numBins).fill(0);
            results.forEach(function(v) { var b = Math.min(Math.floor((v - minV) / range * numBins), numBins - 1); bins[b]++; });
            var maxBin = Math.max.apply(null, bins);
            var svgW = 500, svgH = 200, barW = (svgW - 60) / numBins;
            var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="' + svgW + '" height="' + svgH + '" viewBox="0 0 ' + svgW + ' ' + svgH + '">';
            svg += '<rect width="' + svgW + '" height="' + svgH + '" fill="#f8fafc"/>';
            svg += '<text x="' + (svgW/2) + '" y="18" text-anchor="middle" fill="#1f2937" font-family="Inter,sans-serif" font-size="12" font-weight="bold">Monte Carlo Distribution (10K Simulations)</text>';
            bins.forEach(function(c, i) {
                var x = 30 + i * barW;
                var barH = maxBin > 0 ? (c / maxBin) * 140 : 0;
                var y = 170 - barH;
                var binCenter = minV + (i + 0.5) * range / numBins;
                var color = binCenter <= mcData.p5 ? '#10b981' : binCenter <= mcData.p50 ? '#f59e0b' : binCenter <= mcData.p95 ? '#d97706' : '#ef4444';
                svg += '<rect x="' + x + '" y="' + y + '" width="' + Math.max(barW - 0.5, 0.5) + '" height="' + barH + '" fill="' + color + '"/>';
            });
            [{ v: mcData.p5, l: 'P5', c: '#10b981' }, { v: mcData.p50, l: 'P50', c: '#d97706' }, { v: mcData.p95, l: 'P95', c: '#ef4444' }].forEach(function(m) {
                var xp = 30 + ((m.v - minV) / range) * (svgW - 60);
                svg += '<line x1="' + xp + '" y1="28" x2="' + xp + '" y2="170" stroke="' + m.c + '" stroke-width="1.5" stroke-dasharray="4,3"/>';
                svg += '<text x="' + xp + '" y="185" text-anchor="middle" fill="' + m.c + '" font-family="Inter,sans-serif" font-size="9" font-weight="bold">' + m.l + '</text>';
            });
            svg += '</svg>';
            return svg;
        }

        // Build SVG tornado
        function buildTornadoSVG() {
            var maxImpact = Math.max.apply(null, sensitivity.map(function(d) { return d.impact; })) || 1;
            var svgW = 500, barH = 22, gap = 6, margin = 140;
            var svgH = sensitivity.length * (barH + gap) + 40;
            var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="' + svgW + '" height="' + svgH + '" viewBox="0 0 ' + svgW + ' ' + svgH + '">';
            svg += '<rect width="' + svgW + '" height="' + svgH + '" fill="#f8fafc"/>';
            svg += '<text x="' + (svgW/2) + '" y="18" text-anchor="middle" fill="#1f2937" font-family="Inter,sans-serif" font-size="12" font-weight="bold">Sensitivity Analysis (Tornado)</text>';
            sensitivity.forEach(function(d, i) {
                var y = 30 + i * (barH + gap);
                var barWidth = maxImpact > 0 ? (d.impact / maxImpact) * (svgW - margin - 80) : 0;
                svg += '<text x="' + (margin - 5) + '" y="' + (y + barH/2 + 4) + '" text-anchor="end" fill="#64748b" font-family="Inter,sans-serif" font-size="10">' + d.name + '</text>';
                svg += '<rect x="' + margin + '" y="' + y + '" width="' + barWidth + '" height="' + barH + '" fill="#f59e0b" rx="3"/>';
                svg += '<text x="' + (margin + barWidth + 5) + '" y="' + (y + barH/2 + 4) + '" fill="#1f2937" font-family="Inter,sans-serif" font-size="10" font-weight="bold">+' + d.impact.toFixed(1) + '%</text>';
            });
            svg += '</svg>';
            return svg;
        }

        // Build resilience ring SVG
        function buildScoreRingSVG() {
            var score = resilience.aggregate;
            var svgW = 160, svgH = 160, cx = 80, cy = 80, radius = 60;
            var circumference = 2 * Math.PI * radius;
            var dashOffset = circumference - (score / 100) * circumference;
            var color = score >= 70 ? '#10b981' : score >= 40 ? '#f59e0b' : '#ef4444';
            var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="' + svgW + '" height="' + svgH + '" viewBox="0 0 ' + svgW + ' ' + svgH + '">';
            svg += '<circle cx="' + cx + '" cy="' + cy + '" r="' + radius + '" fill="none" stroke="#e5e7eb" stroke-width="10"/>';
            svg += '<circle cx="' + cx + '" cy="' + cy + '" r="' + radius + '" fill="none" stroke="' + color + '" stroke-width="10" stroke-linecap="round" stroke-dasharray="' + circumference + '" stroke-dashoffset="' + dashOffset + '" transform="rotate(-90 ' + cx + ' ' + cy + ')"/>';
            svg += '<text x="' + cx + '" y="' + (cy - 4) + '" text-anchor="middle" fill="#1f2937" font-family="Inter,sans-serif" font-size="28" font-weight="bold">' + score + '</text>';
            svg += '<text x="' + cx + '" y="' + (cy + 16) + '" text-anchor="middle" fill="#64748b" font-family="Inter,sans-serif" font-size="11">/100</text>';
            svg += '</svg>';
            return svg;
        }

        // Build HTML
        var html = '<!DOCTYPE html><html><head><meta charset="UTF-8">';
        html += '<title>Energy Equity Pro Report - ' + inputs.countryName + '</title>';
        html += '<style>';
        html += 'body{font-family:Inter,Helvetica,Arial,sans-serif;color:#1f2937;max-width:800px;margin:0 auto;padding:40px 30px;font-size:11pt;line-height:1.6}';
        html += 'h1{color:#92400e;font-size:22pt;margin-bottom:4px;border-bottom:3px solid #f59e0b;padding-bottom:8px}';
        html += 'h2{color:#92400e;font-size:14pt;margin-top:28px;margin-bottom:10px;border-bottom:1px solid #e5e7eb;padding-bottom:4px}';
        html += '.subtitle{color:#64748b;font-size:10pt;margin-bottom:20px}';
        html += '.meta{display:flex;gap:16px;font-size:9pt;color:#64748b;margin-bottom:24px;flex-wrap:wrap}';
        html += '.meta span{background:#fef3c7;padding:3px 10px;border-radius:4px;color:#92400e}';
        html += 'table{width:100%;border-collapse:collapse;margin:12px 0;font-size:10pt}';
        html += 'th{background:#fef3c7;color:#92400e;padding:8px 10px;text-align:left;font-weight:600;border-bottom:2px solid #fde68a}';
        html += 'td{padding:7px 10px;border-bottom:1px solid #e5e7eb;color:#1f2937}';
        html += 'tr.hl{background:#fffbeb}';
        html += '.kpi-row{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0}';
        html += '.kpi-item{flex:1;min-width:110px;background:#fffbeb;border:1px solid #fde68a;border-radius:8px;padding:10px;text-align:center}';
        html += '.kpi-val{font-size:16pt;font-weight:800;color:#d97706}';
        html += '.kpi-lbl{font-size:8pt;color:#64748b;margin-top:2px}';
        html += '.narrative{background:#fffbeb;border-left:3px solid #f59e0b;padding:12px 16px;margin:14px 0;border-radius:0 8px 8px 0}';
        html += '.narrative p{color:#1f2937;font-size:10pt;margin:0}';
        html += '.chart-wrap{text-align:center;margin:16px 0}';
        html += '.footer{margin-top:30px;padding-top:12px;border-top:1px solid #e5e7eb;font-size:8pt;color:#94a3b8;text-align:center}';
        html += '@media print{body{padding:20px}}';
        html += '</style></head><body>';

        html += '<h1>Energy Equity Analysis Report</h1>';
        html += '<p class="subtitle">AI Data Center Citizen Impact &amp; Strategic Intelligence - ' + inputs.countryName + '</p>';
        html += '<div class="meta">';
        html += '<span>Country: ' + inputs.countryName + '</span>';
        html += '<span>DC Capacity: ' + inputs.dcCapacityMW + ' MW</span>';
        html += '<span>GPU Density: ' + inputs.gpuDensity + ' kW/rack</span>';
        html += '<span>Subsidy Delta: ' + inputs.subsidyDelta + '%</span>';
        html += '<span>Grid Index: ' + inputs.gridResilience + '/9</span>';
        html += '<span>Maturity: L' + inputs.maturity + '</span>';
        html += '<span>Generated: ' + new Date().toLocaleDateString() + '</span>';
        html += '</div>';

        // Section 1: Financial Impact
        html += '<h2>1. Financial Impact &amp; NPV Analysis</h2>';
        html += '<div class="kpi-row">';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(financials.npv) + '</div><div class="kpi-lbl">10-Year NPV Impact</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(mcData.p95) + '</div><div class="kpi-lbl">VaR (95%)</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(financials.coiAnnual) + '</div><div class="kpi-lbl">Cost of Immaturity</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(financials.savingsFromMaturity) + '</div><div class="kpi-lbl">Maturity Savings</div></div>';
        html += '</div>';

        // Section 2: Risk Matrix
        html += '<h2>2. Regional Comparative Risk Matrix</h2>';
        html += '<table><tr><th>Country</th><th>Grid Stability</th><th>Subsidy Dep.</th><th>Regulatory</th><th>Social</th><th>Composite</th></tr>';
        ['indonesia','malaysia','singapore','thailand','vietnam','philippines'].forEach(function(key) {
            var r = eeqCountryRisk[key]; var d = countryData[key];
            var comp = ((r.gridStability + r.subsidyDependence + r.regulatory + r.socialLicense) / 4).toFixed(1);
            var hl = key === inputs.country ? ' class="hl"' : '';
            html += '<tr' + hl + '><td>' + d.name + '</td><td>' + r.gridStability.toFixed(1) + '</td><td>' + r.subsidyDependence.toFixed(1) + '</td><td>' + r.regulatory.toFixed(1) + '</td><td>' + r.socialLicense.toFixed(1) + '</td><td>' + comp + '</td></tr>';
        });
        html += '</table>';

        // Section 3: Resilience Scorecard
        html += '<h2>3. Strategic Resilience Scorecard</h2>';
        html += '<div style="text-align:center;margin:16px 0">' + buildScoreRingSVG() + '</div>';
        html += '<div class="kpi-row">';
        html += '<div class="kpi-item"><div class="kpi-val">' + resilience.energySecurity + '</div><div class="kpi-lbl">Energy Security</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + resilience.financialSustainability + '</div><div class="kpi-lbl">Financial Sustainability</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + resilience.socialLicense + '</div><div class="kpi-lbl">Social License</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + resilience.opMaturity + '</div><div class="kpi-lbl">Operational Maturity</div></div>';
        html += '</div>';
        html += '<div class="narrative"><p>' + eeqGenerateScorecardNarrative(inputs, resilience, financials) + '</p></div>';

        // Section 4: Monte Carlo
        html += '<h2>4. Monte Carlo Simulation (10,000 Iterations)</h2>';
        html += '<div class="kpi-row">';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(mcData.p5) + '</div><div class="kpi-lbl">P5</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(mcData.p25) + '</div><div class="kpi-lbl">P25</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(mcData.p50) + '</div><div class="kpi-lbl">P50 (Median)</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(mcData.p75) + '</div><div class="kpi-lbl">P75</div></div>';
        html += '<div class="kpi-item"><div class="kpi-val">' + fmtUSD(mcData.p95) + '</div><div class="kpi-lbl">P95</div></div>';
        html += '</div>';
        html += '<div class="chart-wrap">' + buildHistogramSVG() + '</div>';
        html += '<div class="chart-wrap">' + buildTornadoSVG() + '</div>';
        html += '<div class="narrative"><p>' + eeqGenerateMcNarrative(inputs, mcData, sensitivity) + '</p></div>';

        // Methodology
        html += '<h2>Methodology</h2>';
        html += '<p style="font-size:9pt;color:#64748b;line-height:1.6">';
        html += '<strong>NPV:</strong> 10-year discounted cash flow at 8% discount rate with 3% annual escalation. ';
        html += '<strong>VaR:</strong> 95th percentile from 10,000 Monte Carlo iterations. ';
        html += '<strong>Cost of Immaturity:</strong> CoI = ((C_response - C_preventive) / C_preventive) x (M_target - M_current) / M_target. ';
        html += '<strong>Leadership Amplification:</strong> L(s) = 2.0 / (1 + exp(-1.5 x (s - 3))). ';
        html += '<strong>Monte Carlo variables:</strong> Subsidy delta +/-20%, grid resilience +/-2, DC capacity +/-30%. ';
        html += '<strong>Data sources:</strong> IEA Energy & AI 2025, PLN/TNB/SP Group/PEA/EVN/Meralco tariff schedules, PJM precedent analysis.';
        html += '</p>';

        // Footer
        html += '<div class="footer">Generated by ResistanceZero Energy Equity Pro | ' + new Date().toISOString().split('T')[0] + ' | resistancezero.com</div>';
        html+='
<!-- ═══ Feature 22: Reading Progress Bar ═══ -->
<script>
(function() {
    var bar = document.getElementById('scrollProgress');
    if (!bar) return;
    var ticking = false;
    function updateProgress() {
        var scrollTop = window.scrollY || document.documentElement.scrollTop;
        var docHeight = document.documentElement.scrollHeight - window.innerHeight;
        var pct = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
        bar.style.width = Math.min(pct, 100) + '%';
        ticking = false;
    }
    window.addEventListener('scroll', function() {
        if (!ticking) { requestAnimationFrame(updateProgress); ticking = true; }
    }, { passive: true });
    updateProgress();
})();
</script>

<!-- ═══ Feature 23: TOC Sidebar ═══ -->
<script>
(function() {
    // Find H2s with IDs first, then fallback to auto-generating IDs
    var sections = document.querySelectorAll('.article-body h2[id], .article-content h2[id]');
    if (!sections.length) {
        var allH2s = document.querySelectorAll('.article-body h2, .article-content h2');
        allH2s.forEach(function(h2, i) {
            if (!h2.id) h2.id = 'toc-section-' + (i + 1);
        });
        sections = document.querySelectorAll('.article-body h2[id], .article-content h2[id]');
    }
    if (!sections.length) return;

    var sidebarList = document.getElementById('tocSidebarList');
    var mobileList = document.getElementById('tocMobileList');
    var sidebar = document.getElementById('tocSidebar');
    var tocToggle = document.getElementById('tocMobileToggle');
    var tocDrawer = document.getElementById('tocMobileDrawer');
    var tocBackdrop = document.getElementById('tocMobileBackdrop');
    var tocClose = document.getElementById('tocDrawerClose');

    var tocData = [];
    sections.forEach(function(h2, i) {
        var id = h2.getAttribute('id');
        var numMatch = id.match(/\d+/);
        var num = numMatch ? numMatch[0] : String(i + 1);
        var text = h2.textContent.replace(/^\s*\d+[\.\s]*/, '').trim();
        tocData.push({ id: id, num: num, text: text });
    });

    function buildList(container, isMobile) {
        tocData.forEach(function(item) {
            var li = document.createElement('li');
            if (!isMobile) li.className = 'toc-sidebar-item';
            var a = document.createElement('a');
            a.href = '#' + item.id;
            a.setAttribute('data-section', item.id);
            if (isMobile) {
                a.textContent = item.num + '. ' + item.text;
            } else {
                a.className = 'toc-sidebar-link';
                a.innerHTML = '<span class="toc-sidebar-num">' + item.num + '</span>' + item.text;
            }
            a.addEventListener('click', function(e) {
                e.preventDefault();
                var target = document.getElementById(item.id);
                if (target) window.scrollTo({ top: target.offsetTop - 80, behavior: 'smooth' });
                if (isMobile) closeMobileDrawer();
            });
            li.appendChild(a);
            container.appendChild(li);
        });
    }

    buildList(sidebarList, false);
    buildList(mobileList, true);

    var currentSection = null;
    var observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
            if (entry.isIntersecting) {
                currentSection = entry.target.getAttribute('id');
                highlightActive(currentSection);
            }
        });
    }, { rootMargin: '-80px 0px -70% 0px', threshold: 0 });

    sections.forEach(function(s) { observer.observe(s); });

    function highlightActive(sectionId) {
        sidebarList.querySelectorAll('.toc-sidebar-link').forEach(function(a) {
            a.classList.toggle('active', a.getAttribute('data-section') === sectionId);
        });
        mobileList.querySelectorAll('a').forEach(function(a) {
            a.classList.toggle('active', a.getAttribute('data-section') === sectionId);
        });
    }

    var articleContent = document.querySelector('.article-content');
    if (articleContent && sidebar) {
        var sidebarObserver = new IntersectionObserver(function(entries) {
            entries.forEach(function(entry) {
                sidebar.classList.toggle('visible', entry.isIntersecting);
            });
        }, { rootMargin: '0px', threshold: 0.01 });
        sidebarObserver.observe(articleContent);
    }

    function openMobileDrawer() {
        tocDrawer.classList.add('active');
        tocBackdrop.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    function closeMobileDrawer() {
        tocDrawer.classList.remove('active');
        tocBackdrop.classList.remove('active');
        document.body.style.overflow = '';
    }

    if (tocToggle) tocToggle.addEventListener('click', openMobileDrawer);
    if (tocClose) tocClose.addEventListener('click', closeMobileDrawer);
    if (tocBackdrop) tocBackdrop.addEventListener('click', closeMobileDrawer);
})();
</script>

<!-- ═══ Feature 21: Global Search ═══ -->
<script>
(function() {
    var searchBtn = document.getElementById('navSearchBtn');
    var overlay = document.getElementById('searchOverlay');
    var modal = document.getElementById('searchModal');
    var input = document.getElementById('searchInput');
    var resultsEl = document.getElementById('searchResults');
    var fuse = null;
    var searchData = null;
    var focusedIdx = -1;

    function openSearch() {
        overlay.classList.add('active');
        modal.classList.add('active');
        input.value = '';
        input.focus();
        focusedIdx = -1;
        resultsEl.innerHTML = '<div class="search-empty">Type to search across all content</div>';
        if (!searchData) {
            fetch('search-index.json')
                .then(function(r) { return r.json(); })
                .then(function(data) {
                    searchData = data;
                    fuse = new Fuse(data, {
                        keys: [
                            { name: 'title', weight: 0.4 },
                            { name: 'description', weight: 0.25 },
                            { name: 'keywords', weight: 0.25 },
                            { name: 'category', weight: 0.1 }
                        ],
                        threshold: 0.35,
                        includeScore: true,
                        minMatchCharLength: 2
                    });
                })
                .catch(function() {});
        }
    }

    function closeSearch() {
        overlay.classList.remove('active');
        modal.classList.remove('active');
        input.blur();
    }

    function getIconClass(cat) {
        cat = (cat || '').toLowerCase();
        if (cat === 'calculator') return 'calc';
        if (cat === 'tool') return 'tool';
        return '';
    }

    function getIconLabel(item) {
        if (item.url && item.url.indexOf('article-') === 0) {
            return item.url.replace('article-', '').replace('.html', '').padStart(2, '0');
        }
        var cat = (item.category || '').toLowerCase();
        if (cat === 'calculator') return '&#9889;';
        if (cat === 'tool') return '&#9881;';
        return '&#9733;';
    }

    function renderResults(results) {
        if (!results.length) {
            resultsEl.innerHTML = '<div class="search-empty">No results found</div>';
            focusedIdx = -1;
            return;
        }
        var html = '';
        results.slice(0, 8).forEach(function(r, i) {
            var item = r.item;
            var iconCls = getIconClass(item.category);
            html += '<a href="' + item.url + '" class="search-result-item" data-idx="' + i + '">'
                + '<div class="search-result-icon ' + iconCls + '">' + getIconLabel(item) + '</div>'
                + '<div class="search-result-info">'
                + '<div class="search-result-category">' + (item.category || '') + '</div>'
                + '<div class="search-result-title">' + item.title + '</div>'
                + '<div class="search-result-desc">' + item.description + '</div>'
                + '</div></a>';
        });
        resultsEl.innerHTML = html;
        focusedIdx = -1;
    }

    function updateFocus() {
        var items = resultsEl.querySelectorAll('.search-result-item');
        items.forEach(function(el, i) {
            el.classList.toggle('focused', i === focusedIdx);
            if (i === focusedIdx) el.scrollIntoView({ block: 'nearest' });
        });
    }

    if (searchBtn) searchBtn.addEventListener('click', openSearch);
    if (overlay) overlay.addEventListener('click', closeSearch);

    document.addEventListener('keydown', function(e) {
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
            e.preventDefault();
            if (modal.classList.contains('active')) closeSearch();
            else openSearch();
            return;
        }
        if (!modal.classList.contains('active')) return;
        if (e.key === 'Escape') { closeSearch(); return; }
        var items = resultsEl.querySelectorAll('.search-result-item');
        if (e.key === 'ArrowDown') {
            e.preventDefault();
            focusedIdx = Math.min(focusedIdx + 1, items.length - 1);
            updateFocus();
        } else if (e.key === 'ArrowUp') {
            e.preventDefault();
            focusedIdx = Math.max(focusedIdx - 1, 0);
            updateFocus();
        } else if (e.key === 'Enter' && focusedIdx >= 0 && items[focusedIdx]) {
            e.preventDefault();
            items[focusedIdx].click();
        }
    });

    if (input) {
        input.addEventListener('input', function() {
            var query = input.value.trim();
            if (query.length < 2 || !fuse) {
                resultsEl.innerHTML = '<div class="search-empty">Type to search across all content</div>';
                focusedIdx = -1;
                return;
            }
            var results = fuse.search(query);
            renderResults(results);
        });
    }
})();
</script>

</body></html>';

        // Open and print
        var w = window.open('', '_blank');
        if (w) {
            w.document.write(html);
            w.document.close();
            setTimeout(function() { w.print(); }, 500);
        }
    };

    // ===== Listen for auth changes =====
    window.addEventListener('rz-auth-change', function() {
        if (eeqCheckAuth()) eeqUnlockPanels();
        else eeqLockPanels();
    });

    // ===== Hook into free calculator changes =====
    // Override the original calculateImpact to also update pro panels
    var origCalcImpact = window.calculateImpact;
    window.calculateImpact = function() {
        if (typeof origCalcImpact === 'function') origCalcImpact();
        if (eeqProMode) {
            eeqUpdateProPanels();
        }
    };

    // Add input listeners for pro sliders
    ['eeqGpuDensity', 'eeqSubsidyDelta', 'eeqGridResilience', 'eeqCommunityImpact', 'eeqMaturity'].forEach(function(id) {
        var el = document.getElementById(id);
        if (el) {
            el.addEventListener('input', function() {
                eeqUpdateSliderDisplay();
            });
        }
    });

    // ===== Init =====
    // Check auth on load
    if (eeqCheckAuth()) {
        eeqUnlockPanels();
    }

    // Initial slider display
    eeqUpdateSliderDisplay();
})();
</script>
<script src="auth.js"></script>
<script src="rz-tracker.js"></script>

<!-- Cookie Consent Banner -->
<div class="cookie-banner hidden" id="cookieBanner">
    <p>We use cookies for analytics to improve your experience. <a href="privacy.html">Learn more</a></p>
    <div class="cookie-actions">
        <button class="cookie-accept" id="cookieAccept">Accept</button>
        <button class="cookie-decline" id="cookieDecline">Decline</button>
    </div>
</div>

<!-- Scroll to Top -->
<button class="scroll-top-btn" id="scrollTopBtn" aria-label="Scroll to top">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"/></svg>
</button>

<script>
(function(){
    // Cookie Banner
    var cb = document.getElementById('cookieBanner');
    var consent = localStorage.getItem('rz_cookie_consent');
    if (!consent && cb) {
        cb.classList.remove('hidden');
    }
    var acceptBtn = document.getElementById('cookieAccept');
    var declineBtn = document.getElementById('cookieDecline');
    if (acceptBtn) acceptBtn.addEventListener('click', function(){
        localStorage.setItem('rz_cookie_consent', 'accepted');
        cb.classList.add('hidden');
    });
    if (declineBtn) declineBtn.addEventListener('click', function(){
        localStorage.setItem('rz_cookie_consent', 'declined');
        cb.classList.add('hidden');
        // Disable GA
        window['ga-disable-G-GED7FX8RTV'] = true;
    });

    // Scroll to Top
    var sBtn = document.getElementById('scrollTopBtn');
    if (sBtn) {
        var ticking = false;
        window.addEventListener('scroll', function(){
            if (!ticking) {
                window.requestAnimationFrame(function(){
                    if (window.scrollY > 500) {
                        sBtn.classList.add('visible');
                    } else {
                        sBtn.classList.remove('visible');
                    }
                    ticking = false;
                });
                ticking = true;
            }
        });
        sBtn.addEventListener('click', function(){
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    }
})();
</script>

</body>
</html>
